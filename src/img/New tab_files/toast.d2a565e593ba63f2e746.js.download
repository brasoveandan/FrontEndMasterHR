(window.webpackJsonp=window.webpackJsonp||[]).push([["toast"],{"+qLX":function(t,e,o){"use strict";var s,a,n,r,i,l,c;o.d(e,"a",(function(){return r})),function(t){t.Article="article",t.Gallery="gallery",t.Video="video",t.Win32="win32",t.UWP="uwp",t[t.Module=8]="Module",t[t.ActionButton=11]="ActionButton",t[t.Navigation=14]="Navigation",t[t.WebView=31]="WebView",t[t.SmartList=35]="SmartList"}(s||(s={})),function(t){t[t.Taboola=0]="Taboola",t[t.Outbrain=1]="Outbrain",t[t.MediaNet=2]="MediaNet",t[t.Editor=3]="Editor",t[t.Personalization=4]="Personalization",t[t.Autocuration=5]="Autocuration"}(a||(a={})),function(t){t[t.MUID=0]="MUID",t[t.ANID=1]="ANID",t[t.AAD=2]="AAD"}(n||(n={})),function(t){t.StartPage="startpage",t.SpartanDhp="default",t.SpartanNtp="default",t.ArticleVnext="article_vnext",t.GalleryVnext="gallery_vnext",t.GalleryClassic="gallery_classic",t.GalleryFlex="gallery_flex",t.ArticleFlex="article_flex",t.StockDetailsPage="stockdetails",t.TeamStatsPage="teamstats",t.Xfeed="xfeed",t.Interests="cinterests"}(r||(r={})),function(t){t.DHP="dhp",t.NTP="ntp",t.Article="article",t.Gallery="gallery",t.Video="video"}(i||(i={})),function(t){t.Emmx="emmx",t.Prime="prime",t.Spartan="spartan",t.ChromeExt="chromeext",t.IEExt="ieext"}(l||(l={})),function(t){t[t.Empty=0]="Empty",t[t.SearchBox=1]="SearchBox",t[t.TopSites=2]="TopSites",t[t.Suggested=4]="Suggested",t[t.ContentFeed=8]="ContentFeed",t[t.WinFRE=16]="WinFRE"}(c||(c={}))},"8ntK":function(t,e,o){"use strict";var s;o.d(e,"a",(function(){return s})),function(t){t.Save="Save",t.Mute="Mute",t.Follow="Follow",t.Unfollow="Unfollow",t.InterestFailure="InterestFailure",t.ShowMore="ShowMore",t.ShowFewer="ShowFewer"}(s||(s={}))},Qo3E:function(t,e,o){"use strict";o.d(e,"a",(function(){return s}));class s{static renderToast(t){this.renderToastCallback&&this.renderToastCallback(t)}static setRenderToastCallback(t){this.renderToastCallback=t}static expireToast(t){this.expireToastCallback&&this.expireToastCallback(t)}static setExpireToastCallback(t){this.expireToastCallback=t}static setCurrentToast(t,e){this.currentToastId!==t&&(this.currentToastId=t,this.renderToastCallback=e,this.currentToastIdChangeCallbacks.forEach(e=>e(t)),this.renderToast())}static addCurrentToastIdChangeCallback(t){t&&this.currentToastIdChangeCallbacks.push(t)}}s.currentToastIdChangeCallbacks=[]},dOQe:function(t,e,o){"use strict";o.r(e),o.d(e,"Toast",(function(){return H})),o.d(e,"ToastActions",(function(){return z})),o.d(e,"ToastConnector",(function(){return N})),o.d(e,"ToastReducer",(function(){return K})),o.d(e,"ToolingInfo",(function(){return V}));var s=o("ucSd"),a=o("+viU"),n=o("OOuA"),r=o("5mwN"),i=o("3KaK"),l=o("MZhw"),c=o("HzrG"),d=o("m1Vi"),u=o("TgmJ"),h=o("wirn"),T=o("YJhp"),p=o("W+kI"),m=o("rvYQ"),g=o("AxnZ"),b=o("C4R5"),f=o("HS3Q"),w=o("u5KZ"),v=o("Am8i"),y=o("fuIx"),C=o("e8jz"),S=o("Zn5T"),O=o("OI02"),x=o("+qLX");const B={telemetryContracts:{toast:{name:"Toast",type:v.e.Module},toastCloseButton:{name:"Close",behavior:v.b.Close,action:v.a.Click,type:v.e.ActionButton}},savedStoriesWithinPersonalizeUrl:"/{locale}/feed/personalize#saves",standaloneSavedStoriesUrl:"/{locale}/feed/personalize/saves",urlBase:"https://www.msn.com",locale:"{locale}",defaultBottomPosition:32};var j=o("8ntK"),k=o("Gy7L"),P=o("o1qX"),A=o("w0HK");class I extends r.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},r.b),{toastDataProps:void 0,localizedStrings:void 0,managedClasses:void 0,dismissToast:void 0,actionButtonTelemetryTags:void 0,personalizeButtonTelemetryTags:void 0,undoShowMoreButtonTelemetryTags:void 0,undoShowFewerButtonTelemetryTags:void 0,useRouter:void 0,closeButtonTelemetryTags:void 0,moduleTelemetryTags:void 0,savedStoriesWithinPersonalize:void 0,oneRiverInterestsPivotInfo:void 0}),this.executeButtonClickAndDismiss=t=>{const{toastDataProps:e,dismissToast:o}=this.props;e.onClick(t),o()},this.handleKeyDown=t=>{if(!t.defaultPrevented){const{dismissToast:e}=this.props;switch(t.keyCode){case k.h:e()}}},this.saveToastContent=()=>{const{localizedStrings:{saveStoryToastText:t,personalizeTabName:e},managedClasses:{toast_navigationButton:o},personalizeButtonTelemetryTags:s,useRouter:a,savedStoriesWithinPersonalize:r,oneRiverInterestsPivotInfo:i}=this.props,l=Object(n.a)(d.b,Object.assign({key:"saveToastContent",appearance:"lightweight",class:Object(P.a)("lightweight",o),onClick:t=>{w.a.sendActionEvent(t.target,v.a.Click);const e={isRequestFromSavedStoryToast:!0,noScroll:!0};if(a)Object(b.a)().pushHistory(f.b.Saves,"",e);else if(i)Object(A.a)().switchPivot({pivotId:i.pivotId,configIndexHref:i.configIndexHref,configIndexRef:i.configIndexRef,context:e,telemetryPageName:x.a.Interests,display:i.displayName});else{const t=Object(p.a)();let e;e=r?B.savedStoriesWithinPersonalizeUrl:B.standaloneSavedStoriesUrl;const o=new URL(e.replace(B.locale,m.b.CurrentMarket),B.urlBase);o.search=t.toString(),window.open(o.href,"_blank")}},"aria-label":e},s),e);return Object(n.a)("span",{style:{display:"flex",alignItems:"center",whiteSpace:"pre-wrap",flexWrap:"wrap"}},Object(g.a)(t,[l]))},this.muteToastContent=()=>{const{toastDataProps:{inputText:t},localizedStrings:{muteToastBodyText:e}}=this.props,o=Object(n.a)("b",{key:"muteToastContent"},t);return Object(n.a)("span",null,Object(g.a)(e,[o]))},this.interestToastContent=t=>{const{toastDataProps:{inputText:e},localizedStrings:{followSuccessMessage:o,unfollowSuccessMessage:s}}=this.props,a=Object(n.a)("b",{key:"interestToastContent"},e);return Object(n.a)("span",null,Object(g.a)(t?o:s,[a]))},this.showMoreFewerToastContent=()=>{const{toastDataProps:{toastType:t,onClick:e},localizedStrings:{showFewerToastText:o,showMoreToastText:s,showMoreFewerToastButtonText:a},undoShowMoreButtonTelemetryTags:r,undoShowFewerButtonTelemetryTags:i}=this.props,l=t===j.a.ShowMore?r:i,c=Object(n.a)(d.b,Object.assign({key:"showMoreFewerToastContent",appearance:"lightweight",onClick:e},l),a);return Object(n.a)("span",{style:{display:"flex",alignItems:"center",whiteSpace:"pre-wrap",flexWrap:"wrap"}},Object(g.a)(t===j.a.ShowMore?s:o,[c]))},this.interestToastFailureContent=()=>{const{localizedStrings:{interestErrorMessage:t}}=this.props;return Object(n.a)("span",null,t)}}componentDidUpdate(){var t,e;this.toastRef?((null===(t=this.props.toastDataProps)||void 0===t?void 0:t.referrerButton)||this.setActiveElement(),this.toastRef.focus()):(null===(e=this.lastActiveElement)||void 0===e||e.focus({preventScroll:!0}),this.lastActiveElement=void 0)}render(){super.render();const{toastDataProps:t,localizedStrings:e,dismissToast:o,closeButtonTelemetryTags:s,moduleTelemetryTags:a,actionButtonTelemetryTags:r,managedClasses:i,useRouter:l}=this.props,{toast_root:c,toast_closeButton:p,toast_navigationButton:m}=i;if(!t)return null;const g=this.getBackgroundColor();let b;return l||(b=this.getBottomPosition()),Object(n.a)(u.a,{"use-defaults":!0,"background-color":g,class:c,style:{bottom:(b||B.defaultBottomPosition)+"px"}},Object(n.a)(O.a,Object.assign({},a,{ref:t=>this.toastRef=t,onKeyDown:this.handleKeyDown}),Object(n.a)("output",{role:"alert"},this.getContent()),t.buttonText&&Object(n.a)(d.b,Object.assign({class:Object(P.a)("lightweight",m),slot:"actions",appearance:"lightweight",onClick:this.executeButtonClickAndDismiss},r)," ",t.buttonText," "),Object(n.a)(d.b,Object.assign({class:p,slot:"close-button",appearance:"stealth",onClick:o,title:e.toastCloseButtonTitle,"aria-label":e.toastCloseButtonTitle},s),Object(n.a)(h.a,{glyphType:T.b.Close,title:e.toastCloseButtonTitle}))))}setActiveElement(){var t;let e=document.activeElement;for(;null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement;)e=e.shadowRoot.activeElement;this.lastActiveElement=e}getContent(){const{toastDataProps:t}=this.props;switch(t.toastType){case j.a.Save:return this.saveToastContent();case j.a.Mute:return this.muteToastContent();case j.a.Follow:return this.interestToastContent(!0);case j.a.Unfollow:return this.interestToastContent(!1);case j.a.InterestFailure:return this.interestToastFailureContent();case j.a.ShowMore:case j.a.ShowFewer:return this.showMoreFewerToastContent();default:return}}getBackgroundColor(){if(Object(y.b)()){const t=Object(C.b)();return t&&t.isDarkMode?i.g:i.a}const t=Object(l.b)(()=>i.e)(c.b);return Object(i.f)()?i.d:t}getBottomPosition(){const t=document.querySelectorAll("div[class^='footer']");if(t&&t.length){const e=parseInt(window.getComputedStyle(t[0]).marginTop)||0;return t[0].getBoundingClientRect().height+e+10}return null}}I.defaultProps={experienceName:S.a.toast};var M=o("G82u");class z{}z.renderToast=new M.a("RenderToast"),z.expireToast=new M.a("ExpireToast");var F=o("fpA0"),E=o("D57K"),R=o("Qo3E"),D=o("WfnD"),U=o("s9+9"),W=o("hqLi");class N extends D.a{constructor(t,e,o,s,a,n,r){super(t,e,o,s,a,n,r),this.dismissToast=()=>{z.expireToast.getActionSender(this).send(this.getCurrentState().renderedToastProps.id)};const i=o.connector(U.a.SharedState);this.useRouter=i&&i.getCurrentState().useHistory}mapStateToProps(t){const e=t.renderedToastProps;return this.clearAndSetExpirationTimers(e),!this.actionButtonTelemetryTags&&e&&e.buttonTelemetryContract&&this.telemetryObject&&(this.actionButtonTelemetryTags=this.telemetryObject.addOrUpdateChild(e.buttonTelemetryContract).render()),{toastDataProps:e,localizedStrings:this.config.localizedStrings,dismissToast:this.dismissToast,actionButtonTelemetryTags:this.actionButtonTelemetryTags,personalizeButtonTelemetryTags:this.personalizeButtonTelemetryTags,undoShowMoreButtonTelemetryTags:this.undoShowMoreButtonTelemetryTags,undoShowFewerButtonTelemetryTags:this.undoShowFewerButtonTelemetryTags,useRouter:this.useRouter,closeButtonTelemetryTags:this.closeButtonTelemetryTags,moduleTelemetryTags:this.moduleTelemetryTags,savedStoriesWithinPersonalize:this.config.savedStoriesWithinPersonalize,oneRiverInterestsPivotInfo:this.config.oneRiverInterestsPivotInfo}}onComponentConnect(t){return Object(E.b)(this,void 0,void 0,(function*(){yield D.a.prototype.onComponentConnect.call(this,t),R.a.setRenderToastCallback(t=>{z.renderToast.getActionSender(this).send(t)}),R.a.setExpireToastCallback(t=>{z.expireToast.getActionSender(this).send(t)}),this.setupTelemetryObject()}))}clearAndSetExpirationTimers(t){const{expirationInMs:e,id:o}=t||{};this.timer&&(window.clearTimeout(this.timer),this.timer=null),e&&(this.timer=window.setTimeout(()=>{z.expireToast.getActionSender(this).send(o)},e))}setupTelemetryObject(){const{telemetryContracts:t}=B,{personalizeTabName:e,showMoreFewerToastButtonText:o,toastCloseButtonTitle:s}=this.config.localizedStrings,a=Object(p.a)(),n=new URL("/personalize",window.location.origin);n.search=a.toString(),Object(W.a)(this.telemetryObject)||(this.telemetryObject.contract.name=t.toast.name,this.telemetryObject.contract.type=t.toast.type),this.closeButtonTelemetryTags=this.telemetryObject.addOrUpdateChild(Object.assign(Object.assign({},t.toastCloseButton),{content:{headline:s}})).render(),this.personalizeButtonTelemetryTags=this.telemetryObject.addOrUpdateChild({name:"ToastButton",type:v.e.Interaction,content:{headline:e},action:v.a.Click,destinationUrl:n.href}).render(),this.undoShowMoreButtonTelemetryTags=this.telemetryObject.addOrUpdateChild({name:"ToastButton",type:v.e.ActionButton,behavior:v.b.Unlike,content:{headline:[o,j.a.ShowMore].join(" ")},action:v.a.Click}).render(),this.undoShowFewerButtonTelemetryTags=this.telemetryObject.addOrUpdateChild({name:"ToastButton",type:v.e.ActionButton,behavior:v.b.Undislike,content:{headline:[o,j.a.ShowFewer].join(" ")},action:v.a.Click}).render(),this.moduleTelemetryTags=this.telemetryObject.render()}}var _=o("05Au");class K{reduce(t,e){if(!t)return{renderedToastProps:null};if(!e)return t;let o;return _.a.handleAction(e,z.renderToast,e=>{o=Object.assign(Object.assign({},t),{renderedToastProps:e})}),_.a.handleAction(e,z.expireToast,e=>{var s,a;t.renderedToastProps&&e===t.renderedToastProps.id&&(null===(a=null===(s=t.renderedToastProps)||void 0===s?void 0:s.referrerButton)||void 0===a||a.focus(),o=Object.assign(Object.assign({},t),{renderedToastProps:null}))}),o||t}}const L={toast_root:{position:"fixed",left:"50%",transform:"translate(-50%, 0)","background-color":"transparent",width:"fit-content","max-width":"95%","& msn-toast::part(toast-root)":{background:"var(--background-color)"}},toast_closeButton:{background:"transparent","&.stealth:hover":{background:"var(--neutral-fill-stealth-hover)"}},toast_navigationButton:{"@media (-ms-high-contrast:active)":{"-ms-high-contrast-adjust":"none",color:"LinkText"}}};var G=o("gnzS");const H=Object(a.a)(L)(I),V={reactComponent:H,experienceConfigSchema:F.ToastConfigSchema,defaultMockState:s.defaultMockState,mockState:s.mockState,mockConfig:G.mockConfig}},fpA0:function(t,e){},gnzS:function(t,e){},ucSd:function(t,e){}}]);