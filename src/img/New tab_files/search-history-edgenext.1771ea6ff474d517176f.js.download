(window.webpackJsonp=window.webpackJsonp||[]).push([["search-history-edgenext"],{"+YO+":function(e,t,i){"use strict";i.d(t,"ContextMenuItemRole",(function(){return s}));var s,o=i("OnwC"),n=i("Gy7L"),r=i("o1qX"),a=i("ERkP"),c=i.n(a),l=i("eGM7"),h=i("2yW7");i.o(h,"AutoSuggestContext")&&i.d(t,"AutoSuggestContext",(function(){return h.AutoSuggestContext})),i.o(h,"ButtonDirection")&&i.d(t,"ButtonDirection",(function(){return h.ButtonDirection})),i.o(h,"ProgressType")&&i.d(t,"ProgressType",(function(){return h.ProgressType})),i.o(h,"RadioSlot")&&i.d(t,"RadioSlot",(function(){return h.RadioSlot})),function(e){e.menuItem="menuitem",e.menuItemRadio="menuitemradio",e.menuItemCheckbox="menuitemcheckbox"}(s||(s={}));class d extends o.a{constructor(){super(...arguments),this.handledProps={disabled:void 0,managedClasses:void 0,onInvoke:void 0,role:void 0},this.handleMenuItemKeyDown=e=>{switch(e.keyCode){case n.g:case n.l:this.handleInvoke(e)}"function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e)},this.handleMenuItemClick=e=>{this.handleInvoke(e),"function"==typeof this.props.onClick&&this.props.onClick(e)},this.handleContextMenu=e=>{e.preventDefault(),this.handleInvoke(e),"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e)}}render(){return c.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),role:this.props.role,"aria-disabled":this.props.disabled||void 0,onKeyDown:this.handleMenuItemKeyDown,onClick:this.handleMenuItemClick,onContextMenu:this.handleContextMenu}),this.props.children)}generateClassNames(){const{contextMenuItem:e,contextMenuItem__checkbox:t,contextMenuItem__radio:i,contextMenuItem__disabled:o}=this.props.managedClasses,n=this.props.role;return super.generateClassNames(Object(r.a)(e,[t,n===s.menuItemCheckbox],[i,n===s.menuItemRadio],[o,this.props.disabled]))}handleInvoke(e){"function"!=typeof this.props.onInvoke||this.props.disabled||this.props.onInvoke(e,this.props)}}d.displayName=l.DisplayNamePrefix+"ContextMenuItem",d.defaultProps={role:s.menuItem,disabled:!1,managedClasses:{}},t.default=d},"/E6d":function(e,t,i){"use strict";var s,o,n;i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n})),function(e){e.left="left",e.right="right",e.uncontrolled="uncontrolled"}(s||(s={})),function(e){e.top="top",e.bottom="bottom",e.uncontrolled="uncontrolled"}(o||(o={})),function(e){e.uncontrolled="uncontrolled",e.adjacent="adjacent",e.inset="inset"}(n||(n={}))},"2yW7":function(e,t){},"3EfD":function(e,t,i){"use strict";var s=i("ItVt");i.o(s,"AutoSuggestContext")&&i.d(t,"AutoSuggestContext",(function(){return s.AutoSuggestContext})),i.o(s,"ButtonDirection")&&i.d(t,"ButtonDirection",(function(){return s.ButtonDirection})),i.o(s,"ProgressType")&&i.d(t,"ProgressType",(function(){return s.ProgressType})),i.o(s,"RadioSlot")&&i.d(t,"RadioSlot",(function(){return s.RadioSlot})),t.default=s.default},"4Ixr":function(e,t,i){"use strict";var s=i("ERkP"),o=i.n(s),n=i("r6MD"),r=i("OnwC");class a extends r.a{renderTitleText(e){return"string"==typeof Object(n.a)(e,"titleText")?o.a.createElement("title",null,Object(n.a)(e,"titleText")):null}}a.defaultProps={viewBox:"0 0 16 16",width:"16px",height:"16px",xmlns:"http://www.w3.org/2000/svg"},t.a=a},"5RNZ":function(e,t,i){"use strict";var s=i("OnwC"),o=i("b12f"),n=i("o1qX"),r=i("ERkP"),a=i.n(r),c=i("yR4y");class l extends s.a{constructor(){super(...arguments),this.handledProps={after:void 0,before:void 0}}render(){return a.a.createElement(o.default,Object.assign({},this.unhandledProps()),void 0!==this.props.before?this.props.before:void 0,a.a.createElement("span",{className:Object(n.a)(this.props.managedClasses.contextMenuItem_contentRegion)},this.props.children),void 0!==this.props.after?this.props.after:void 0)}}l.displayName=c.a+"ContextMenuItem",l.defaultProps={managedClasses:{}},t.default=l},"7FLv":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return m}));var s,o=i("3ZGc"),n=i("swXE"),r=i("6eT7"),a=i("MLPK"),c=i("6QMD"),l=i("MF9s");!function(e){e[e.e1=1]="e1",e[e.e2=2]="e2",e[e.e3=3]="e3",e[e.e4=4]="e4",e[e.e5=6]="e5",e[e.e6=8]="e6",e[e.e7=9]="e7",e[e.e8=12]="e8",e[e.e9=16]="e9",e[e.e10=24]="e10",e[e.e11=32]="e11",e[e.e12=40]="e12",e[e.e13=48]="e13",e[e.e14=64]="e14",e[e.e15=80]="e15",e[e.e16=96]="e16",e[e.e17=192]="e17"}(s||(s={}));const h={blurMultiplier:.225,blurBase:2,xOffsetMultiplier:0,yOffsetMultiplier:0,opacity:.11},d={blurMultiplier:.9,blurBase:0,xOffsetMultiplier:0,yOffsetMultiplier:.4,opacity:.13};function u(e,t,i){return s=>{const{r:a,g:h,b:d}=Object(c.i)(t),{xOffsetMultiplier:u,yOffsetMultiplier:g,opacity:p,blurMultiplier:m,blurBase:b=0}=i,f=2-Object(n.k)(Object(c.i)(Object(l.k)(s)));return[u,g].map(t=>parseFloat((t*e).toFixed(1))).concat(b+m*e).map(o.a).concat(new r.a(a,h,d,p*f).toStringWebRGBA()).join(" ")}}function g(e,t=a.a){return i=>{const s=u.bind(null,e,t);return[d,h].map(e=>s(e)(i)).join(", ")}}function p(e){return{"box-shadow":g(e)}}function m(e,t=a.a){return i=>({"box-shadow":g(e,t)})}},"8+cW":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("G82u");class o{}o.TriggerBingWebSSO=new s.a("TriggerBingWebSSO"),o.BingWebSSOComplete=new s.a("BingWebSSOCompleteSignature")},"92X5":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("+viU"),o=i("YajO"),n=i("cSKQ"),r=i("yR4y");const a=Object(s.a)(o.a)(n.default);a.displayName=r.a+"NeutralButton"},CmBY:function(e,t){},Cmru:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("+viU"),o=i("mKi5"),n=i("h33R");const r=Object(s.a)(o.a)(n.default)},Cr4e:function(e,t){},IATt:function(e,t,i){"use strict";var s=i("ERkP"),o=i("r6MD"),n=i("OnwC");class r extends n.a{renderTitleText(e){return"string"==typeof Object(o.a)(e,"titleText")?s.createElement("title",null,Object(o.a)(e,"titleText")):null}}r.defaultProps={viewBox:"0 0 16 16",width:"16px",height:"16px",xmlns:"http://www.w3.org/2000/svg"},t.a=r},IlL2:function(e,t,i){"use strict";var s=Object.prototype.hasOwnProperty;var o=function(e,t){return null!=e&&s.call(e,t)},n=i("rnF1");t.a=function(e,t){return null!=e&&Object(n.a)(e,t,o)}},ItVt:function(e,t,i){"use strict";var s=i("OnwC"),o=i("Gy7L"),n=i("o1qX"),r=i("yqT/"),a=i("ERkP"),c=i.n(a),l=i("ZQwJ"),h=i("XJ1h"),d=i("LB+V"),u=i("DSvr"),g=i.n(u),p=i("eGM7"),m=i("oumg");i.o(m,"AutoSuggestContext")&&i.d(t,"AutoSuggestContext",(function(){return m.AutoSuggestContext})),i.o(m,"ButtonDirection")&&i.d(t,"ButtonDirection",(function(){return m.ButtonDirection})),i.o(m,"ProgressType")&&i.d(t,"ProgressType",(function(){return m.ProgressType})),i.o(m,"RadioSlot")&&i.d(t,"RadioSlot",(function(){return m.RadioSlot}));class b extends s.a{constructor(){super(...arguments),this.handledProps={describedBy:void 0,label:void 0,labelledBy:void 0,contentWidth:void 0,contentHeight:void 0,modal:void 0,managedClasses:void 0,onDismiss:void 0,visible:void 0,focusTargetOnClose:void 0},this.rootElement=c.a.createRef(),this.shouldAddKeyListener=e=>!(!e.modal&&!e.onDismiss),this.handleDocumentKeyDown=e=>{if(!e.defaultPrevented&&this.props.visible)switch(e.keyCode){case o.h:this.checkForSoftDismiss(e);break;case o.m:this.handleTabKeyDown(e)}},this.checkForSoftDismiss=e=>{this.props.onDismiss&&"function"==typeof this.props.onDismiss&&this.props.visible&&this.props.onDismiss(e)},this.handleTabKeyDown=e=>{if(!this.props.modal)return;const t=g()(this.rootElement.current),i=t.length;if(0===i)return this.tryFocusOnRootElement(),void e.preventDefault();e.shiftKey&&e.target===t[0]?(t[i-1].focus(),e.preventDefault()):e.shiftKey||e.target!==t[i-1]||(t[0].focus(),e.preventDefault())},this.handleDocumentFocus=e=>{!e.defaultPrevented&&this.shouldForceFocus(e.target)&&(this.focusOnFirstElement(),e.preventDefault())},this.shouldForceFocus=e=>this.props.visible&&this.rootElement.current instanceof HTMLElement&&!this.rootElement.current.contains(e),this.focusOnFirstElement=()=>{if(Object(r.a)()&&this.rootElement.current instanceof HTMLElement){const e=g()(this.rootElement.current);0===e.length?this.tryFocusOnRootElement():e[0].focus()}},this.tryFocusOnRootElement=()=>{this.rootElement.current instanceof HTMLElement&&this.rootElement.current.focus()},this.invokeFocusOnCloseTarget=()=>{if(Object(h.a)(this.props.focusTargetOnClose))return;if(Object(d.a)(this.props.focusTargetOnClose))return void this.props.focusTargetOnClose();const e=Object(l.a)(this.props.focusTargetOnClose);e instanceof HTMLElement&&e.focus()}}render(){const{dialog_positioningRegion:e,dialog_contentRegion:t}=this.props.managedClasses;return c.a.createElement("div",Object.assign({ref:this.rootElement},this.unhandledProps(),{className:this.generateClassNames(),"aria-hidden":!this.props.visible}),c.a.createElement("div",{className:Object(n.a)(e)},this.renderModalOverlay(),c.a.createElement("div",{role:"dialog","aria-modal":this.props.modal,tabIndex:-1,className:Object(n.a)(t),style:{height:this.props.contentHeight,width:this.props.contentWidth},"aria-describedby":this.props.describedBy,"aria-labelledby":this.props.labelledBy,"aria-label":this.props.label},this.props.children)))}componentDidMount(){Object(r.a)()&&(this.shouldAddKeyListener(this.props)&&document.addEventListener("keydown",this.handleDocumentKeyDown),this.props.modal&&(document.addEventListener("focusin",this.handleDocumentFocus),this.shouldForceFocus(document.activeElement)&&this.focusOnFirstElement()))}componentDidUpdate(e){Object(r.a)()&&(!e.modal&&this.props.modal?(document.addEventListener("focusin",this.handleDocumentFocus),this.focusOnFirstElement()):e.modal&&!this.props.modal&&document.removeEventListener("focusin",this.handleDocumentFocus),!this.shouldAddKeyListener(e)&&this.shouldAddKeyListener(this.props)?document.addEventListener("keydown",this.handleDocumentKeyDown):this.shouldAddKeyListener(e)&&!this.shouldAddKeyListener(this.props)&&document.removeEventListener("keydown",this.handleDocumentKeyDown))}componentWillUnmount(){Object(r.a)()&&(this.shouldAddKeyListener(this.props)&&document.removeEventListener("keydown",this.handleDocumentKeyDown),this.props.modal&&document.removeEventListener("focusin",this.handleDocumentFocus),this.invokeFocusOnCloseTarget())}generateClassNames(){return super.generateClassNames(Object(n.a)(this.props.managedClasses.dialog))}renderModalOverlay(){if(this.props.modal)return c.a.createElement("div",{className:Object(n.a)(this.props.managedClasses.dialog_modalOverlay),onClick:this.checkForSoftDismiss,onTouchStart:this.checkForSoftDismiss,role:"presentation",tabIndex:-1,style:{touchAction:"none"}})}}b.defaultProps={contentHeight:"480px",contentWidth:"640px",visible:!1,managedClasses:{}},b.displayName=p.DisplayNamePrefix+"Dialog",t.default=b},JIHU:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("+viU"),o=i("QuHq"),n=i("5RNZ");const r=Object(s.a)(o.a)(n.default)},MpPR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=void 0,i=function(i,s){return function(){t=null,e.apply(i,s)}},s=function(){if(null==t){for(var e=arguments.length,s=Array(e),o=0;o<e;o++)s[o]=arguments[o];t=requestAnimationFrame(i(this,s))}};return s.cancel=function(){return cancelAnimationFrame(t)},s}},OhtH:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("G82u"),o=i("a5dx");class n extends o.a{}n.updateSearchHistoryVisibility=new s.a("UpdateSearchHistoryVisibility"),n.updateSearchHistoryColor=new s.a("UpdateSearchHistoryColor"),n.experienceLoaded=new s.a("SearchHistoryExperienceLoaded"),n.toggleContextMenuVisibility=new s.a("ToggleContextMenuVisibility"),n.hideSearchHistory=new s.a("HideSearchHistory"),n.fetchSearchHistory=new s.a("FetchSearchHistory"),n.changePrivacyDialogState=new s.a("ChangePrivacyDialogState"),n.updateEdgeNextLayoutMode=new s.a("UpdateEdgeNextLayoutMode")},PlLj:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SearchHistoryCommonBaseConnector}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("D57K"),_msnews_experiences_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9J8d"),_microsoft_fast_components_react_msft__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("y2Il"),_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("u5KZ"),_msnews_bing_websso__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("8+cW"),_msnews_experiences_connector__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("WfnD"),_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("HxRh"),_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("Am8i"),_msnews_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("rvYQ"),_msnews_experiences_constants__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("s9+9"),_msnews_experiences_constants__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("KRKw");class SearchHistoryCommonBaseConnector extends _msnews_experiences_connector__WEBPACK_IMPORTED_MODULE_5__.a{constructor(e,t,i,s,o,n,r){super(e,t,i,s,o,n,r),this.BingUrl="https://www.bing.com",this.isSearchHistoryTimeout=!1}mapStateToProps(e){const t=this.getContainerTelemetryObject(),{labelColor:i,itemColor:s}=this.config,o=e.formCode?e.formCode:this.config.formCodes.contentAlwaysOn;return{showSearchHistory:!(_msnews_core__WEBPACK_IMPORTED_MODULE_8__.b.CurrentRequestTargetScope&&"kids"===_msnews_core__WEBPACK_IMPORTED_MODULE_8__.b.CurrentRequestTargetScope.audienceMode)&&this.config.showSearchHistory,searchHistoryProps:this.getSearchHistoryProps(this.config,t,o),containerTelemetry:t.render(),fontSize:this.config.fontSize,labelColor:i,itemColor:s,widthInPx:this.config.widthInPx}}initialize(e){_msnews_bing_websso__WEBPACK_IMPORTED_MODULE_4__.a.BingWebSSOComplete.registerObserver(e);this.isBingWebSSOCompleteStatus()&&e()}getContainerTelemetryObject(){return this.containerTelemetry||(this.containerTelemetry=this.telemetryObject.addOrUpdateChild({name:"searchhistory",type:_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_7__.e.Interaction},this.containerTelemetry)),this.containerTelemetry}getSearchHistory(connectorFileName="SearchHistoryCommon.Connector.ts",overriddenEndpoint,rpsToken){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)(this,void 0,void 0,(function*(){let searchHistoryResponseJson,xMSEdgeRef;const headers=new Headers;headers.append("Content-Type","text/plain"),rpsToken&&headers.append("X-RPS-Token",rpsToken);const requestObj={method:"GET",credentials:"include",mode:"cors",cache:"no-cache",headers};try{let timeoutId=null;const timeout=this.config.apiTimeoutInMilliSeconds;let isSearchHistoryFetchCompleted=!1;const timeoutPromise=new Promise(e=>{timeoutId=setTimeout(e,timeout)}).then(()=>{isSearchHistoryFetchCompleted||(this.isSearchHistoryTimeout=!0,_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_3__.a.sendAppErrorEvent(Object.assign(Object.assign({},_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.Timeout),{message:`timeout: Search history response not received within ${timeout} secs.`}))),clearTimeout(timeoutId)}),endpoint=overriddenEndpoint||this.config.apiEndpoint,searchHistoryFetchPromise=yield fetch(endpoint,requestObj),fetchResponse=searchHistoryFetchPromise;if(xMSEdgeRef=fetchResponse&&fetchResponse.headers&&fetchResponse.headers.get("X-MSEdge-Ref"),isSearchHistoryFetchCompleted=!0,this.isSearchHistoryTimeout)_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_3__.a.sendAppErrorEvent(Object.assign(Object.assign({},_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.TimeoutDetail),{message:`timeout: Search history response not received within ${timeout} secs.`,pb:Object.assign(Object.assign({},_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.TimeoutDetail.pb),{customMessage:"X-MSEdge-Ref: "+xMSEdgeRef})}));else{if(!fetchResponse||!fetchResponse.ok)throw Error("search history service returned error response: "+searchHistoryFetchPromise.status);try{const contentType=fetchResponse.headers.get("content-type"),parseResponseAsText=contentType&&contentType.indexOf("text/plain")>=0;if(parseResponseAsText){const searchHistoryResponseText=yield fetchResponse.text();searchHistoryResponseJson=eval("("+searchHistoryResponseText+")")}else searchHistoryResponseJson=yield fetchResponse.json()}catch(e){const t=e?e.toString():"",i=fetchResponse.headers&&fetchResponse.headers.get("content-type");_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_3__.a.sendAppErrorEvent(Object.assign(Object.assign({},_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.ResponseParsingFailed),{message:"Didn't get valid JSON from response.",pb:Object.assign(Object.assign({},_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.ResponseParsingFailed.pb),{customMessage:`X-MSEdge-Ref: ${xMSEdgeRef}. Exception: ${t}. ContentType: ${i}.`})}))}}}catch(e){let t=_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.ServiceCallFailed;-1!==e.message.indexOf("401")?t=_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.Unauthorized:-1!==e.message.indexOf("403")?t=_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.Forbidden:-1!==e.message.indexOf("404")&&(t=_msnews_diagnostics__WEBPACK_IMPORTED_MODULE_6__.Tf.NotFound),_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_3__.a.sendAppErrorEvent(Object.assign(Object.assign({},t),{message:""+e,source:connectorFileName,pb:Object.assign(Object.assign({},t.pb),{customMessage:"X-MSEdge-Ref: "+xMSEdgeRef})}))}return searchHistoryResponseJson}))}getSearchHistoryProps(e,t,i){const s=this.config.manageHistoryFormCode?this.config.manageHistoryFormCode:i,o=t.addOrUpdateChild({name:"managehistory",type:_msnews_telemetry_contracts__WEBPACK_IMPORTED_MODULE_7__.e.Interaction}).render();return{title:{tag:_microsoft_fast_components_react_msft__WEBPACK_IMPORTED_MODULE_2__.b.h2,children:e.searchHistoryLabel?e.searchHistoryLabel.children:void 0,size:_microsoft_fast_components_react_msft__WEBPACK_IMPORTED_MODULE_2__.a._8},manageHistory:Object.assign({href:this.config.manageHistoryLink?this.config.manageHistoryLink+"?FORM="+s:"",children:e.manageHistoryLabel?e.manageHistoryLabel.children:void 0},o)}}isCookieConsentRequired(){const e=_msnews_experiences_redux__WEBPACK_IMPORTED_MODULE_1__.a.getInstance().rootReducer.connector(_msnews_experiences_constants__WEBPACK_IMPORTED_MODULE_9__.a.SharedState);return e&&e.getCurrentState().cookieConsentStatus===_msnews_experiences_constants__WEBPACK_IMPORTED_MODULE_10__.b.Required}isBingWebSSOCompleteStatus(){let e=!1;const t=_msnews_experiences_redux__WEBPACK_IMPORTED_MODULE_1__.a.getInstance().rootReducer.connectors().find(e=>e.namespace.startsWith("BingWebSSO"));return t&&(e=t.getCurrentState().bingWebSSOComplete),e}}},Pv0f:function(e,t,i){"use strict";var s=i("OnwC"),o=i("Gy7L"),n=i("o1qX"),r=i("yqT/"),a=i("d/Vl"),c=i("a4r/"),l=i("ERkP"),h=i.n(l),d=i("b12f"),u=i("eGM7"),g=i("duoW");i.o(g,"AutoSuggestContext")&&i.d(t,"AutoSuggestContext",(function(){return g.AutoSuggestContext})),i.o(g,"ButtonDirection")&&i.d(t,"ButtonDirection",(function(){return g.ButtonDirection})),i.o(g,"ProgressType")&&i.d(t,"ProgressType",(function(){return g.ProgressType})),i.o(g,"RadioSlot")&&i.d(t,"RadioSlot",(function(){return g.RadioSlot}));class p extends s.a{constructor(e){super(e),this.handledProps={children:void 0,managedClasses:void 0,enableAutoFocus:void 0},this.rootElement=h.a.createRef(),this.renderChild=(e,t)=>h.a.cloneElement(e,{tabIndex:t===this.state.focusIndex?0:-1,onFocus:this.handleMenuItemFocus}),this.isFocusableElement=e=>this.isMenuItemElement(e)&&!this.isDisabledElement(e),this.isDisabledElement=e=>this.isMenuItemElement(e)&&"true"===e.getAttribute("aria-disabled"),this.handleMenuItemFocus=e=>{const t=e.currentTarget,i=this.domChildren().indexOf(t);this.isDisabledElement(t)?t.blur():i!==this.state.focusIndex&&-1!==i&&this.setFocus(i,i>this.state.focusIndex?1:-1)},this.handleMenuKeyDown=e=>{switch(e.keyCode){case o.b:case o.d:e.preventDefault(),this.setFocus(this.state.focusIndex+1,1);break;case o.e:case o.c:e.preventDefault(),this.setFocus(this.state.focusIndex-1,-1);break;case o.f:e.preventDefault(),this.setFocus(this.domChildren().length-1,-1);break;case o.i:e.preventDefault(),this.setFocus(0,1)}"function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e)},this.handleContextMenu=e=>{e.preventDefault(),"function"==typeof this.props.onContextMenu&&this.props.onContextMenu(e)},this.state={focusIndex:-1}}render(){return h.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.rootElement,role:"menu",className:this.generateClassNames(),onKeyDown:this.handleMenuKeyDown,onContextMenu:this.handleContextMenu}),this.renderChildren())}componentDidMount(){const e=this.domChildren().findIndex(this.isFocusableElement);-1!==e&&this.setState({focusIndex:e}),this.props.enableAutoFocus&&this.focus()}focus(){this.setFocus(-1===this.state.focusIndex?0:this.state.focusIndex,1)}generateClassNames(){return super.generateClassNames(Object(n.a)(this.props.managedClasses.contextMenu))}renderChildren(){return h.a.Children.map(this.props.children,this.renderChild)}isMenuItemElement(e){return e instanceof HTMLElement&&p.focusableElementRoles.hasOwnProperty(e.getAttribute("role"))}domChildren(){return Object(r.a)()&&this.rootElement.current instanceof HTMLElement?Array.from(this.rootElement.current.children):[]}setFocus(e,t){const i=this.domChildren();for(;Object(a.a)(e,i.length);){const s=i[e];if(this.isFocusableElement(s)){s.focus(),this.setState({focusIndex:e});break}e+=t}}}p.displayName=u.DisplayNamePrefix+"ContextMenu",p.defaultProps={managedClasses:{}},p.focusableElementRoles=Object(c.a)(d.ContextMenuItemRole),t.default=p},QuHq:function(e,t,i){"use strict";var s=i("fz//"),o=i("3ZGc"),n=i("mIHV"),r=i("iuMt"),a=i("ZEO0"),c=i("PfRV"),l=i("SP+O"),h=i("7b0X"),d=i("LD6M"),u=i("zP2P"),g=i("MF9s"),p=i("GaXA"),m=i("8yfO"),b=i("objN");const f={contextMenuItem:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"list-style-type":"none","box-sizing":"border-box",height:Object(u.d)(),display:"grid","grid-template-columns":Object(s.a)("{0} auto {0}",Object(o.a)(Object(n.a)(Object(u.g)(-2),16,Object(u.g)()))),"grid-template-rows":"auto","justify-items":"center","align-items":"center",padding:"0",margin:Object(s.a)("0 {0}",Object(o.a)(g.p)),color:l.c,fill:l.c,"white-space":"nowrap",overflow:"hidden"},Object(a.c)()),Object(m.b)("t7")),Object(c.a)()),Object(c.d)()),Object(r.a)({"border-color":h.a,[b.D]:{color:b.a.selectedText,fill:b.a.selectedText,background:b.a.selectedBackground,"box-shadow":Object(s.a)("0 0 0 {0} inset {1}",Object(o.a)(g.s),()=>b.a.buttonText)}})),{"&:hover":Object.assign({background:d.b},b.z),"&:active":Object.assign({background:d.a},b.z)}),b.E),contextMenuItem_contentRegion:{"grid-column-start":"2","justify-self":"start",overflow:"hidden","text-overflow":"ellipsis"},contextMenuItem__disabled:Object.assign(Object.assign(Object.assign({},Object(p.a)()),b.i),{"&:hover":Object.assign({},b.i)})};t.a=f},YajO:function(e,t,i){"use strict";var s=i("iuMt"),o=i("s6ks"),n=i("SP+O"),r=i("X9F+"),a=i("7b0X"),c=i("objN");const l=Object.assign(Object.assign({},o.a),{button:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(o.b)()),{color:n.c,fill:n.c,background:r.c,"&:hover:enabled, a&:not($button__disabled):hover":Object.assign({background:r.b},c.z),"&:active:enabled, a&:not($button__disabled):active":{background:r.a}}),Object(s.a)(Object.assign({"border-color":a.a},c.y))),{"&:disabled":Object.assign({},c.k),"&::-moz-focus-inner":{border:"0"}}),c.x),{"a&:not($button__disabled)":Object.assign(Object.assign({},c.u),{"&:not($button__disabled):hover":Object.assign({},c.s),"&$button__disabled":Object.assign({},c.k)})})});t.a=l},ZQwJ:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("7nmT"),o=i.n(s),n=i("XJ1h");function r(e){if(e instanceof HTMLElement)return e;if(!Object(n.a)(e.current)){if(e.current instanceof HTMLElement)return e.current;const t=o.a.findDOMNode(e.current);if(t instanceof HTMLElement||t instanceof Text)return t}return null}},a5dx:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("G82u");class o{}o.renderSearchHistory=new s.a("MapSearchHistoryItems")},b12f:function(e,t,i){"use strict";var s=i("+YO+");i.o(s,"AutoSuggestContext")&&i.d(t,"AutoSuggestContext",(function(){return s.AutoSuggestContext})),i.o(s,"ButtonDirection")&&i.d(t,"ButtonDirection",(function(){return s.ButtonDirection})),i.o(s,"ContextMenuItemRole")&&i.d(t,"ContextMenuItemRole",(function(){return s.ContextMenuItemRole})),i.o(s,"ProgressType")&&i.d(t,"ProgressType",(function(){return s.ProgressType})),i.o(s,"RadioSlot")&&i.d(t,"RadioSlot",(function(){return s.RadioSlot})),t.default=s.default},bi6e:function(e,t){},duoW:function(e,t){},e9f0:function(e,t,i){"use strict";i.d(t,"a",(function(){return I}));var s;!function(e){e[e.Hide=0]="Hide",e[e.Manage=1]="Manage",e[e.Privacy=2]="Privacy"}(s||(s={}));var o=i("jAzu"),n=i("/E6d"),r=i("JIHU"),a=i("Cmru"),c=i("OnwC"),l=i("Gy7L"),h=i("ERkP"),d=i.n(h),u=i("IATt");class g extends u.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return d.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),d.a.createElement("path",{d:"M6.10833 5.275L13.2 7.75833V11.4L5.2 16L2 14.2083V0L5.2 1.11667V12.3667L9.70833 9.775L7.49167 8.74167L6.10833 5.275Z"}))}}const p={contextMenuItem_image:{margin:"auto 8px","vertical-align":"bottom"},contextMenu:{"max-width":"210px","min-width":"210px"},contextMenuPositioner:{"z-index":""+(i("0fst").a.Above+"12"),"&:focus":{outline:"none"}}},m={contextMenuItem:{display:"flex","align-items":"center"},contextMenuItem_contentRegion:{width:"100%",display:"block","font-family":"Segoe UI, Segoe WP, Arial, Sans-Serif","font-size":"12px","line-height":"16px"}};var b=i("4Ixr");class f extends b.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return d.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),d.a.createElement("path",{d:"M8 4C8.78125 4 9.54167 4.10156 10.2812 4.30469C11.0208 4.50781 11.7292 4.78906 12.4062 5.14844C13.0885 5.5026 13.7292 5.92448 14.3281 6.41406C14.9323 6.90365 15.4896 7.43229 16 8C15.4896 8.57292 14.9323 9.10417 14.3281 9.59375C13.7292 10.0781 13.0885 10.5 12.4062 10.8594C11.7292 11.2135 11.0208 11.4922 10.2812 11.6953C9.54167 11.8984 8.78125 12 8 12C7.21875 12 6.45833 11.8984 5.71875 11.6953C4.97917 11.4922 4.26823 11.2135 3.58594 10.8594C2.90885 10.5 2.26823 10.0781 1.66406 9.59375C1.0599 9.10417 0.505208 8.57292 0 8C0.505208 7.43229 1.0599 6.90365 1.66406 6.41406C2.26823 5.92448 2.90885 5.5026 3.58594 5.14844C4.26823 4.78906 4.97917 4.50781 5.71875 4.30469C6.45833 4.10156 7.21875 4 8 4ZM11 8C11 7.58854 10.9193 7.20052 10.7578 6.83594C10.6016 6.47135 10.388 6.15365 10.1172 5.88281C9.84635 5.61198 9.52865 5.39844 9.16406 5.24219C8.79948 5.08073 8.41146 5 8 5C7.58854 5 7.20052 5.08073 6.83594 5.24219C6.47135 5.39844 6.15365 5.61198 5.88281 5.88281C5.61198 6.15365 5.39583 6.47135 5.23438 6.83594C5.07812 7.20052 5 7.58854 5 8C5 8.41146 5.07812 8.79948 5.23438 9.16406C5.39583 9.52865 5.61198 9.84635 5.88281 10.1172C6.15365 10.388 6.47135 10.6042 6.83594 10.7656C7.20052 10.9219 7.58854 11 8 11C8.41146 11 8.79948 10.9219 9.16406 10.7656C9.52865 10.6042 9.84635 10.388 10.1172 10.1172C10.388 9.84635 10.6016 9.52865 10.7578 9.16406C10.9193 8.79948 11 8.41146 11 8ZM1.38281 8C1.8724 8.47396 2.39323 8.90885 2.94531 9.30469C3.4974 9.69531 4.08854 10.0234 4.71875 10.2891C4.48438 9.95573 4.30469 9.59375 4.17969 9.20312C4.0599 8.80729 4 8.40625 4 8C4 7.59375 4.0599 7.19531 4.17969 6.80469C4.30469 6.40885 4.48438 6.04427 4.71875 5.71094C4.08854 5.97656 3.4974 6.30729 2.94531 6.70312C2.39323 7.09375 1.8724 7.52604 1.38281 8ZM11.2812 10.2891C11.9115 10.0234 12.5026 9.69531 13.0547 9.30469C13.6068 8.90885 14.1276 8.47396 14.6172 8C14.1276 7.52604 13.6068 7.09375 13.0547 6.70312C12.5026 6.30729 11.9115 5.97656 11.2812 5.71094C11.5156 6.04427 11.6927 6.40885 11.8125 6.80469C11.9375 7.19531 12 7.59375 12 8C12 8.40625 11.9375 8.80729 11.8125 9.20312C11.6927 9.59375 11.5156 9.95573 11.2812 10.2891ZM8 9C7.85938 9 7.72917 8.97396 7.60938 8.92188C7.48958 8.86979 7.38281 8.79948 7.28906 8.71094C7.20052 8.61719 7.13021 8.51042 7.07812 8.39062C7.02604 8.27083 7 8.14062 7 8C7 7.85938 7.02604 7.72917 7.07812 7.60938C7.13021 7.48958 7.20052 7.38542 7.28906 7.29688C7.38281 7.20312 7.48958 7.13021 7.60938 7.07812C7.72917 7.02604 7.85938 7 8 7C8.14062 7 8.27083 7.02604 8.39062 7.07812C8.51042 7.13021 8.61458 7.20312 8.70312 7.29688C8.79688 7.38542 8.86979 7.48958 8.92188 7.60938C8.97396 7.72917 9 7.85938 9 8C9 8.14062 8.97396 8.27083 8.92188 8.39062C8.86979 8.51042 8.79688 8.61719 8.70312 8.71094C8.61458 8.79948 8.51042 8.86979 8.39062 8.92188C8.27083 8.97396 8.14062 9 8 9Z"}),d.a.createElement("line",{x1:"1.36031",y1:"14.5754",x2:"15.3603",y2:"0.575402",stroke:"black"}))}}class y extends b.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return d.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),d.a.createElement("path",{d:"M7.5 0.03125C8.1875 0.03125 8.84896 0.119792 9.48438 0.296875C10.1198 0.473958 10.7135 0.726562 11.2656 1.05469C11.8229 1.3776 12.3281 1.76562 12.7812 2.21875C13.2344 2.67188 13.6224 3.17708 13.9453 3.73438C14.2734 4.28646 14.526 4.88021 14.7031 5.51562C14.8802 6.15104 14.9688 6.8125 14.9688 7.5C14.9688 8.1875 14.8802 8.84896 14.7031 9.48438C14.526 10.1198 14.2734 10.7161 13.9453 11.2734C13.6224 11.8255 13.2344 12.3281 12.7812 12.7812C12.3281 13.2344 11.8229 13.625 11.2656 13.9531C10.7135 14.276 10.1198 14.526 9.48438 14.7031C8.84896 14.8802 8.1875 14.9688 7.5 14.9688C6.8125 14.9688 6.15104 14.8802 5.51562 14.7031C4.88021 14.526 4.28385 14.276 3.72656 13.9531C3.17448 13.625 2.67188 13.2344 2.21875 12.7812C1.76562 12.3281 1.375 11.8255 1.04688 11.2734C0.723958 10.7161 0.473958 10.1198 0.296875 9.48438C0.119792 8.84896 0.03125 8.1875 0.03125 7.5C0.03125 6.8125 0.119792 6.15104 0.296875 5.51562C0.473958 4.88021 0.723958 4.28646 1.04688 3.73438C1.375 3.17708 1.76562 2.67188 2.21875 2.21875C2.67188 1.76562 3.17448 1.3776 3.72656 1.05469C4.28385 0.726562 4.88021 0.473958 5.51562 0.296875C6.15104 0.119792 6.8125 0.03125 7.5 0.03125ZM7.5 14.0312C8.09896 14.0312 8.67708 13.9531 9.23438 13.7969C9.79167 13.6406 10.3125 13.4219 10.7969 13.1406C11.2812 12.8542 11.7214 12.513 12.1172 12.1172C12.513 11.7214 12.8516 11.2812 13.1328 10.7969C13.4193 10.3125 13.6406 9.79167 13.7969 9.23438C13.9531 8.67708 14.0312 8.09896 14.0312 7.5C14.0312 6.90104 13.9531 6.32292 13.7969 5.76562C13.6406 5.20833 13.4193 4.6875 13.1328 4.20312C12.8516 3.71875 12.513 3.27865 12.1172 2.88281C11.7214 2.48698 11.2812 2.14844 10.7969 1.86719C10.3125 1.58073 9.79167 1.35938 9.23438 1.20312C8.67708 1.04688 8.09896 0.96875 7.5 0.96875C6.90104 0.96875 6.32292 1.04688 5.76562 1.20312C5.20833 1.35938 4.6875 1.58073 4.20312 1.86719C3.71875 2.14844 3.27865 2.48698 2.88281 2.88281C2.48698 3.27865 2.14583 3.71875 1.85938 4.20312C1.57812 4.6875 1.35938 5.20833 1.20312 5.76562C1.04688 6.32292 0.96875 6.90104 0.96875 7.5C0.96875 8.09896 1.04688 8.67708 1.20312 9.23438C1.35938 9.79167 1.57812 10.3125 1.85938 10.7969C2.14583 11.2812 2.48698 11.7214 2.88281 12.1172C3.27865 12.513 3.71875 12.8542 4.20312 13.1406C4.6875 13.4219 5.20833 13.6406 5.76562 13.7969C6.32292 13.9531 6.90104 14.0312 7.5 14.0312ZM7 11H8V12H7V11ZM7.5 3.5C7.84375 3.5 8.16667 3.56771 8.46875 3.70312C8.77083 3.83333 9.03385 4.01302 9.25781 4.24219C9.48698 4.46615 9.66667 4.72917 9.79688 5.03125C9.93229 5.33333 10 5.65625 10 6C10 6.3125 9.95052 6.58594 9.85156 6.82031C9.7526 7.04948 9.6276 7.25781 9.47656 7.44531C9.33073 7.63281 9.17188 7.80469 9 7.96094C8.82812 8.11198 8.66667 8.26562 8.51562 8.42188C8.36979 8.57292 8.2474 8.73698 8.14844 8.91406C8.04948 9.08594 8 9.28125 8 9.5V10H7V9.5C7 9.1875 7.04948 8.91667 7.14844 8.6875C7.2474 8.45312 7.36979 8.24219 7.51562 8.05469C7.66667 7.86719 7.82812 7.69792 8 7.54688C8.17188 7.39062 8.33073 7.23698 8.47656 7.08594C8.6276 6.92969 8.7526 6.76562 8.85156 6.59375C8.95052 6.42188 9 6.22396 9 6C9 5.79167 8.96094 5.59635 8.88281 5.41406C8.80469 5.23177 8.69792 5.07292 8.5625 4.9375C8.42708 4.80208 8.26823 4.69531 8.08594 4.61719C7.90365 4.53906 7.70833 4.5 7.5 4.5C7.29167 4.5 7.09635 4.53906 6.91406 4.61719C6.73177 4.69531 6.57292 4.80208 6.4375 4.9375C6.30208 5.07292 6.19531 5.23177 6.11719 5.41406C6.03906 5.59635 6 5.79167 6 6H5C5 5.65625 5.0651 5.33333 5.19531 5.03125C5.32552 4.72917 5.5026 4.46615 5.72656 4.24219C5.95573 4.01302 6.22135 3.83333 6.52344 3.70312C6.83073 3.56771 7.15625 3.5 7.5 3.5Z"}))}}var C=i("7nmT"),O=i.n(C);class x extends c.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,manageBelowSearchBoxSuggestionContextMenuItemProps:void 0,hideBelowSearchBoxSuggestionContextMenuItemProps:void 0,privacyBelowSearchBoxSuggestionContextMenuItemProps:void 0,moreOptionsActionButton:void 0,errorCallback:void 0,closeHandler:void 0,telemetryHandler:void 0},this.renderContextMenuItem=(e,t,i,s)=>d.a.createElement(r.a,Object.assign({id:e,key:i.toString(),jssStyleSheet:m,onInvoke:e=>{e.stopPropagation(),this.props.telemetryHandler(e.target),t(),this.close(),e.preventDefault()},className:this.props.managedClasses.contextMenuItem},s.telemetryTags),this.renderItemIcon(i),s.labelText),this.hideBelowSearchBoxSuggestionHandler=()=>{this.props.hideBelowSearchBoxSuggestionContextMenuItemProps.handler()},this.privacyBelowSearchBoxSuggestionHandler=()=>{this.props.privacyBelowSearchBoxSuggestionContextMenuItemProps.handler()},this.manageBelowSearchBoxSuggestionHandler=()=>{this.props.manageBelowSearchBoxSuggestionContextMenuItemProps.handler()},this.close=()=>{const{closeHandler:e}=this.props;e&&e()},this.handleUnfocus=e=>{const t=e.target,i=this.contextMenuContainerRef&&this.contextMenuContainerRef.current,s=O.a.findDOMNode(i);t instanceof HTMLElement&&s.contains(t)||t instanceof SVGElement&&s.contains(t)||this.props.moreOptionsActionButton&&t instanceof HTMLElement&&t===this.props.moreOptionsActionButton||t instanceof SVGElement&&this.props.moreOptionsActionButton.contains(t)||this.close()},this.handleKeyDown=e=>{if(e.keyCode===l.h){const{moreOptionsActionButton:e}=this.props;e&&e.focus(),this.close()}else if(e.keyCode===l.m){const t=e.target.id;if(t&&"below-searchbox-suggestion-context-menu-privacy"!==t){if("below-searchbox-suggestion-context-menu-hide"===t){const e=document.getElementById("below-searchbox-suggestion-context-menu-manage");e&&e.focus()}else if("below-searchbox-suggestion-context-menu-manage"===t){const e=document.getElementById("below-searchbox-suggestion-context-menu-privacy");e&&e.focus()}}else{const e=document.getElementById("below-searchbox-suggestion-context-menu-hide");e&&e.focus()}e.preventDefault()}},this.handleScrollEvent=e=>{this.close()},this.contextMenuContainerRef=d.a.createRef()}componentDidMount(){window.addEventListener("mousedown",this.handleUnfocus),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("scroll",this.handleScrollEvent)}componentWillUnmount(){window.removeEventListener("mousedown",this.handleUnfocus),window.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("scroll",this.handleScrollEvent)}componentDidCatch(e){this.props.errorCallback&&this.props.errorCallback(e)}render(){const{contextMenuPositioner:e,contextMenu:t}=this.props.managedClasses;return this.props.manageBelowSearchBoxSuggestionContextMenuItemProps?d.a.createElement(o.a,{ref:this.contextMenuContainerRef,className:e,anchor:this.props.moreOptionsActionButton,viewport:document.getElementById("belowsearchboxsuggestion"),horizontalPositioningMode:n.a.inset,verticalPositioningMode:n.a.adjacent,verticalLockToDefault:!0,fixedAfterInitialPlacement:!0,defaultHorizontalPosition:n.b.right,defaultVerticalPosition:n.c.bottom},d.a.createElement(a.a,{className:t},this.renderContextMenuItem("below-searchbox-suggestion-context-menu-hide",this.hideBelowSearchBoxSuggestionHandler,s.Hide,this.props.hideBelowSearchBoxSuggestionContextMenuItemProps),this.renderContextMenuItem("below-searchbox-suggestion-context-menu-manage",this.manageBelowSearchBoxSuggestionHandler,s.Manage,this.props.manageBelowSearchBoxSuggestionContextMenuItemProps),this.renderContextMenuItem("below-searchbox-suggestion-context-menu-privacy",this.privacyBelowSearchBoxSuggestionHandler,s.Privacy,this.props.privacyBelowSearchBoxSuggestionContextMenuItemProps))):d.a.createElement(o.a,{ref:this.contextMenuContainerRef,className:e,anchor:this.props.moreOptionsActionButton,viewport:document.getElementById("belowsearchboxsuggestion"),horizontalPositioningMode:n.a.inset,verticalPositioningMode:n.a.adjacent,verticalLockToDefault:!0,fixedAfterInitialPlacement:!0,defaultHorizontalPosition:n.b.right,defaultVerticalPosition:n.c.bottom},d.a.createElement(a.a,{className:t},this.renderContextMenuItem("below-searchbox-suggestion-context-menu-hide",this.hideBelowSearchBoxSuggestionHandler,s.Hide,this.props.hideBelowSearchBoxSuggestionContextMenuItemProps),this.renderContextMenuItem("below-searchbox-suggestion-context-menu-privacy",this.privacyBelowSearchBoxSuggestionHandler,s.Privacy,this.props.privacyBelowSearchBoxSuggestionContextMenuItemProps)))}renderItemIcon(e){switch(e){case s.Hide:return d.a.createElement(f,{className:this.props.managedClasses.contextMenuItem_image});case s.Manage:return d.a.createElement(g,{className:this.props.managedClasses.contextMenuItem_image});case s.Privacy:return d.a.createElement(y,{className:this.props.managedClasses.contextMenuItem_image});default:return null}}}var v=i("+viU");const S=Object(v.a)(p)(x);class _ extends u.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return d.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),d.a.createElement("path",{d:"M2 7C2.14063 7 2.27083 7.02607 2.39063 7.07813C2.51041 7.1302 2.61459 7.20313 2.70313 7.29687C2.79687 7.3854 2.86979 7.4896 2.92187 7.6094C2.97396 7.7292 3 7.8594 3 8C3 8.1406 2.97396 8.2708 2.92187 8.3906C2.86979 8.5104 2.79687 8.6172 2.70313 8.71093C2.61459 8.79947 2.51041 8.8698 2.39063 8.92187C2.27083 8.97393 2.14063 9 2 9C1.85937 9 1.72917 8.97393 1.60937 8.92187C1.48959 8.8698 1.38281 8.79947 1.28906 8.71093C1.20052 8.6172 1.13021 8.5104 1.07813 8.3906C1.02604 8.2708 1 8.1406 1 8C1 7.8594 1.02604 7.7292 1.07813 7.6094C1.13021 7.4896 1.20052 7.3854 1.28906 7.29687C1.38281 7.20313 1.48959 7.1302 1.60937 7.07813C1.72917 7.02607 1.85937 7 2 7ZM8 7C8.1406 7 8.2708 7.02607 8.3906 7.07813C8.5104 7.1302 8.6146 7.20313 8.70313 7.29687C8.79687 7.3854 8.8698 7.4896 8.92187 7.6094C8.97393 7.7292 9 7.8594 9 8C9 8.1406 8.97393 8.2708 8.92187 8.3906C8.8698 8.5104 8.79687 8.6172 8.70313 8.71093C8.6146 8.79947 8.5104 8.8698 8.3906 8.92187C8.2708 8.97393 8.1406 9 8 9C7.8594 9 7.7292 8.97393 7.6094 8.92187C7.4896 8.8698 7.3828 8.79947 7.28907 8.71093C7.20053 8.6172 7.1302 8.5104 7.07813 8.3906C7.02607 8.2708 7 8.1406 7 8C7 7.8594 7.02607 7.7292 7.07813 7.6094C7.1302 7.4896 7.20053 7.3854 7.28907 7.29687C7.3828 7.20313 7.4896 7.1302 7.6094 7.07813C7.7292 7.02607 7.8594 7 8 7ZM14 7C14.1406 7 14.2708 7.02607 14.3906 7.07813C14.5104 7.1302 14.6146 7.20313 14.7031 7.29687C14.7969 7.3854 14.8698 7.4896 14.9219 7.6094C14.9739 7.7292 15 7.8594 15 8C15 8.1406 14.9739 8.2708 14.9219 8.3906C14.8698 8.5104 14.7969 8.6172 14.7031 8.71093C14.6146 8.79947 14.5104 8.8698 14.3906 8.92187C14.2708 8.97393 14.1406 9 14 9C13.8594 9 13.7292 8.97393 13.6094 8.92187C13.4896 8.8698 13.3828 8.79947 13.2891 8.71093C13.2005 8.6172 13.1302 8.5104 13.0781 8.3906C13.0261 8.2708 13 8.1406 13 8C13 7.8594 13.0261 7.7292 13.0781 7.6094C13.1302 7.4896 13.2005 7.3854 13.2891 7.29687C13.3828 7.20313 13.4896 7.1302 13.6094 7.07813C13.7292 7.02607 13.8594 7 14 7Z"}))}}var w=i("92X5"),P=i("yqT/"),E=i("r6MD"),T=i("MpPR"),j=i.n(T);class M extends c.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,items:void 0,moreOptions:void 0,contextMenu:void 0,showContextMenu:void 0,itemColor:void 0,backgroundColor:void 0,title:void 0},this.itemsWidths=[],this.handleWindowResize=()=>{this.createNewAnimationFrameRequest()},this.createNewAnimationFrameRequest=()=>{this.animationFrameInProgress||window.requestAnimationFrame(this.checkForClippedItems),this.animationFrameInProgress=!0},this.checkForClippedItems=()=>{this.animationFrameInProgress=!1;const e=this.getRef("item0"),t=O.a.findDOMNode(this.moreOptionsRef.current),i=O.a.findDOMNode(this.belowSearchBoxItemRef.current);if(!e)return;let s=0;const o=[],n=i.clientWidth-t.clientWidth;for(let e=0;e<this.state.items.length;e++)s+=this.itemsWidths[e],o[e]=!(s<n);this.setState({itemsClonesVisibility:o})},this.state={items:this.props.items,itemsClonesVisibility:[]},this.handleWindowResize=j()(this.handleWindowResize),this.moreOptionsRef=d.a.createRef(),this.belowSearchBoxItemRef=d.a.createRef()}render(){return d.a.createElement("div",Object.assign({ref:this.belowSearchBoxItemRef},this.unhandledProps(),{className:this.generateClassNames()}),d.a.createElement("span",Object.assign({},this.props.title,{className:Object(E.a)(this.props.managedClasses,"belowSearchBoxSuggestion_title","")})),this.renderItems(),d.a.createElement(w.a,Object.assign({ref:this.moreOptionsRef},this.props.moreOptions,{className:this.generateMoreOptionsClassNames()}),d.a.createElement(_,null),this.renderContextMenu()))}componentDidMount(){if(Object(P.a)()){for(let e=0;e<this.state.items.length;e++){const t=this.getRef("item"+e);t&&this.itemsWidths.push(t.clientWidth)}this.checkForClippedItems(),window.addEventListener("resize",this.handleWindowResize)}}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}generateClassNames(){return super.generateClassNames(Object(E.a)(this.props.managedClasses,"belowSearchBoxSuggestion",""))}generateMoreOptionsClassNames(){return Object(E.a)(this.props.managedClasses,"belowSearchBoxSuggestion_moreOptions","")}renderItems(){if(Array.isArray(this.state.items)&&this.state.items.length){const e=this.state.items.map((e,t)=>d.a.createElement("li",{key:t,ref:this.setRef("item"+t),"aria-hidden":this.state.itemsClonesVisibility[t],className:Object(E.a)(this.props.managedClasses,"belowSearchBoxSuggestion_item")},d.a.createElement(w.a,Object.assign({},e,{className:Object(E.a)(this.props.managedClasses,"belowSearchBoxSuggestion_itemHypertext"),key:t}))));return d.a.createElement("ul",{className:Object(E.a)(this.props.managedClasses,"belowSearchBoxSuggestion_contentRegion","")},e)}}renderContextMenu(){if(this.props.showContextMenu)return d.a.createElement(S,Object.assign({className:this.generateMoreOptionsClassNames()},this.props.contextMenu))}}var H=i("objN"),R=i("rRWH");var D=e=>({belowSearchBoxSuggestion:{"align-items":"center",display:"flex",position:"relative",height:"32px"},belowSearchBoxSuggestion_contentRegion:{display:"flex","list-style":"none",margin:"0 0 0 4px",padding:"0",width:"inherit"},belowSearchBoxSuggestion_item:{padding:"0 4px","white-space":"nowrap","&[aria-hidden='true']":{display:"none"}},belowSearchBoxSuggestion_itemHypertext:{display:"block","max-width":"120px",overflow:"hidden","text-overflow":"ellipsis","text-decoration":"none","&:hover, &:focus":{outline:"none","text-decoration":"underline"},padding:"6px 10px 8px 10px",height:"32px",[Object(R.b)("left","right",e.direction)]:"0px",top:"70px","border-radius":"16px","align-self":"center",order:0,flex:"none","font-family":"Segoe UI, Segoe WP, Arial, Sans-Serif","line-height":"16px"},belowSearchBoxSuggestion_moreOptions:{margin:"0px 4px","white-space":"nowrap","max-width":"200px",display:"block","text-overflow":"ellipsis",overflow:"initial","text-decoration":"none","&:hover, &:focus":{outline:"none","text-decoration":"underline"},padding:"4px 6px 8px 6px",height:"32px",width:"32px",[Object(R.b)("right","left",e.direction)]:"0px",top:"70px","border-radius":"16px","align-self":"center",order:0,flex:"none","font-family":"Segoe UI, Segoe WP, Arial, Sans-Serif","line-height":"16px","& > span > svg":{"vertical-align":"middle",[H.D]:{fill:"MoreOptions"}}},belowSearchBoxSuggestion_title:{"white-space":"nowrap","font-weight":"normal","font-size":"12px","line-height":"16px","font-family":"Segoe UI, Segoe WP, Arial, Sans-Serif","text-align":"center",color:"#FFFFFF","text-shadow":"0px 0px 3px rgba(0, 0, 0, 0.8)"}});const I=Object(v.a)(D)(M)},fVqY:function(e,t,i){"use strict";i.r(t),i.d(t,"SearchHistoryEdgenext",(function(){return te})),i.d(t,"SearchHistoryEdgenextActions",(function(){return E.a})),i.d(t,"SearchHistoryEdgenextConnector",(function(){return X})),i.d(t,"SearchHistoryEdgenextReducer",(function(){return $})),i.d(t,"ToolingInfo",(function(){return ie}));var s=i("+viU"),o=i("bi6e"),n=i("5mwN"),r=i("Jw3B"),a=i("e9f0"),c=i("stS0"),l=i("ERkP"),h=i.n(l),d=i("u5KZ"),u=i("JnE6");const g={belowSearchBoxSuggestion_leftAlignWithIndentation:{left:"16px"},belowSearchBoxSuggestion_centerAlign:{"justify-content":"center",display:"flex"},belowSearchBoxSuggestion_moreOptions:{overflow:"visible","text-align":"left","text-decoration":"none !important"},belowSearchBoxSuggestion:{margin:"auto",height:"32px"},belowSearchBoxSuggestion_contentRegion:{width:"unset",margin:"0"},belowSearchBoxSuggestion_item:{padding:"0 8px 0 0"},belowSearchBoxSuggestion_itemHypertext:{margin:"0px 0px"}};var p=i("SP+O"),m=i("qGiF"),b=i("Zn5T"),f=i("iCAe"),y=i("7nmT"),C=i.n(y),O=i("HxRh");let x,v;function S(e){window.requestAnimationFrame(()=>{const t=e&&e.length;for(let i=0;i<t;i++){const t=e[i].intersectionRatio;t>=1?(x.style.visibility="",x.style.opacity="1"):t>=.5?(x.style.visibility="",x.style.opacity=t/2+""):(x.style.opacity="0",x.style.visibility="hidden")}})}const _={initialize:function(){x=document.getElementById("c_srch_hist")},updateObserver:function(e){x&&(v||function(e){if(!window.IntersectionObserver)return;let t="-87px 0px 0px";e&&(t="-76px 0px 0px");const i={root:null,rootMargin:t,threshold:[.2,.4,.6,.8,1]};v=new window.IntersectionObserver(S,i),v.observe(x)}(e))},removeListeners:function(){v&&(v.unobserve(x),v=null)}};var w=i("3ZGc");class P extends n.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},n.b),{containerTelemetry:void 0,fontSize:void 0,itemColor:void 0,labelColor:void 0,managedClasses:void 0,searchHistoryProps:void 0,showSearchHistory:void 0,widthInPx:void 0,belowSearchBoxSuggestionProps:void 0,useHomepageImageEnabledColor:void 0,maxWidthItem:void 0,privacyDialogProps:void 0,globalLeftAlignedSearchHistory:void 0,centerAlignSearchHistory:void 0,leftAlignSearchHistoryWithIndentaion:void 0,noBackgroundColorEnabled:void 0,transparentSearchHistoryOnScroll:void 0}),this.isIntersectionObserverRegistered=!1}render(){return super.render(),h.a.createElement(m.a,null,e=>(this.currentDesignSystem=e,this.props.showSearchHistory&&this.props.belowSearchBoxSuggestionProps.items&&0!==this.props.belowSearchBoxSuggestionProps.items.length?h.a.createElement(h.a.Fragment,null,h.a.createElement(a.a,Object.assign({id:"belowsearchboxsuggestion",jssStyleSheet:this.generateSearchHistoryStylesFromProps()},this.props.belowSearchBoxSuggestionProps,this.props.containerTelemetry)),this.renderPrivacyDialog()):null))}componentDidMount(){super.componentDidMount(),this.isIntersectionObserverRegistered||this.registerIntersectionObserver(),this.props.transparentSearchHistoryOnScroll&&(_.initialize(),_.updateObserver(this.props.noBackgroundColorEnabled))}componentDidUpdate(e){this.isIntersectionObserverRegistered||this.registerIntersectionObserver(),super.componentDidUpdate(),this.props.transparentSearchHistoryOnScroll&&_.updateObserver(this.props.noBackgroundColorEnabled),e.belowSearchBoxSuggestionProps&&e.belowSearchBoxSuggestionProps.showContextMenu!==this.props.belowSearchBoxSuggestionProps.showContextMenu&&Object(f.c)(f.a.searchHistoryMoreOptions,this.props.belowSearchBoxSuggestionProps.showContextMenu)}componentDidCatch(e){d.a.sendAppErrorEvent(Object.assign(Object.assign({},O.Uf),{message:"Search History failed to render",pb:Object.assign(Object.assign({},O.Uf.pb),{customMessage:`${e.message}\n${e.stack}`})}))}componentWillUnmount(){this.props.transparentSearchHistoryOnScroll&&_.removeListeners()}registerIntersectionObserver(){const e=document.getElementById("belowsearchboxsuggestion"),t=new IntersectionObserver(e=>{e[0].intersectionRatio<=0||(t.unobserve(e[0].target),this.visuallyReadyHandler(),d.a.scheduleContentViewEvent(u.b.View))});t&&e&&(t.observe(e),this.isIntersectionObserverRegistered=!0)}generateSearchHistoryStylesFromProps(){let e={};this.props.centerAlignSearchHistory?e=g.belowSearchBoxSuggestion_centerAlign:this.props.leftAlignSearchHistoryWithIndentaion&&(e=g.belowSearchBoxSuggestion_leftAlignWithIndentation);let t=this.props.useHomepageImageEnabledColor?this.props.belowSearchBoxSuggestionProps.backgroundColor+" !important":{},i=this.props.belowSearchBoxSuggestionProps.backgroundColor,s=void 0,o=g.belowSearchBoxSuggestion_item.padding,n=this.props.belowSearchBoxSuggestionProps.itemColor,a=void 0,c=void 0,l="16px";return this.props.noBackgroundColorEnabled&&(t="none !important",i="none",o="0",a="0",c="6px",l="0px",this.props.useHomepageImageEnabledColor?s="0px 0px 3px rgba(0, 0, 0, 0.8)":n=p.c),{belowSearchBoxSuggestion:Object.assign(Object.assign(Object.assign({},g.belowSearchBoxSuggestion),e),{"font-size":Object(w.a)(this.props.fontSize),[Object(r.e)(null,r.a.c2)]:{width:Object(w.a)(this.props.widthInPx.twoColumn)},[Object(r.f)(r.a.c3)]:{width:Object(w.a)(this.props.widthInPx.threeColumn)},[Object(r.e)(r.a.c4,null)]:{width:Object(w.a)(this.props.widthInPx.fourColumn)}}),belowSearchBoxSuggestion_itemHypertext:Object.assign(Object.assign({},g.belowSearchBoxSuggestion_itemHypertext),{background:i,color:n,"&:hover, &:focus":{background:t},"font-size":Object(w.a)(this.props.fontSize),"padding-left":a,"max-width":Object(w.a)(this.props.maxWidthItem),"text-shadow":s,"border-radius":l}),belowSearchBoxSuggestion_moreOptions:Object.assign(Object.assign({},g.belowSearchBoxSuggestion_moreOptions),{background:i,"padding-top":c,"& > span > svg":{fill:n},"&:hover, &:focus":{background:t}}),belowSearchBoxSuggestion_contentRegion:g.belowSearchBoxSuggestion_contentRegion,belowSearchBoxSuggestion_item:Object.assign(Object.assign({},g.belowSearchBoxSuggestion_item),{padding:o})}}visuallyReadyHandler(){window.requestAnimationFrame(()=>{setTimeout(()=>{super.markTimeToVisuallyReady(!0)},0)})}renderPrivacyDialog(){const{privacyDialogProps:e}=this.props;if(!e||!e.enabled)return null;const t=h.a.createElement(c.a,Object.assign({},e));return C.a.createPortal(t,document.body)}}P.defaultProps={experienceName:b.a.searchHistoryEdgenext};var E=i("OhtH"),T=i("CmBY"),j=i("D57K"),M=i("rvYQ"),H=i("s9+9"),R=i("KRKw"),D=i("4wjP"),I=i("PlLj"),B=i("jE1l"),A=i("WfnD"),k=i("y+Kz"),L=i("A8DD"),z=i("3Amp");const N={DefaultBackgroundColorOpacity:"1",BingApiScope:"service::bing.com::MBI_SSL",ClientId:"f3222e55-ab35-49de-81f3-88a3be08cf77",NoSearchHistoryExpectedKey:"no-search-history-expected-auth",privacyDialogZIndex:i("0fst").a.CookieWall+3e3};var F;!function(e){e.MSA="0",e.AAD="1",e.NonSignedIn="2"}(F||(F={}));var W=i("4k19");const U={inspect(e){const{config:t,state:i,connectorArgs:s}=e,o=Object.assign({},s.baseProps);o.belowSearchBoxSuggestionProps=s.getSearchHistoryItemProps(i,i.formCode);const n=o.belowSearchBoxSuggestionProps;return n&&(i.useHomepageImageEnabledColor&&t.fontColorWhenHomepageImageEnabled&&(n.itemColor=t.fontColorWhenHomepageImageEnabled,n.backgroundColor=t.backgroundColorWhenHomepageImageEnabled),n.showContextMenu=i.showContextMenu),o.showSearchHistory=i.showSearchHistory,o.fontSize=t.fontSize,o.useHomepageImageEnabledColor=i.useHomepageImageEnabledColor,o.maxWidthItem=t.maxWidthItem,o.centerAlignSearchHistory=t.centerAlignSearchHistory,o.leftAlignSearchHistoryWithIndentaion=t.leftAlignSearchHistoryWithIndentation,o.noBackgroundColorEnabled=t.treatmentConfig&&t.treatmentConfig.enableNoShadowAllMode,t.treatmentConfig&&t.treatmentConfig.enableNoShadowSelectiveMode&&(i.edgeNextLayoutState.selectedFeedDisplaySetting!==W.f.always?o.noBackgroundColorEnabled=t.treatmentConfig.enableNoShadowSelectiveMode:o.showSearchHistory=!1),t.treatmentConfig&&t.treatmentConfig.transparentSearchHistoryOnScroll&&(o.transparentSearchHistoryOnScroll=!0),o.privacyDialogProps={enabled:i.showPrivacyDialog,onClose:s.privacyDialogOnClose,closeButtonTelemetryObject:s.privacyDialogCloseTelemetryObject,privacyHypertext:t.privacyHypertext,zIndex:N.privacyDialogZIndex,dialogStrings:t.localizedStrings?{dialogTitle:t.localizedStrings&&t.localizedStrings.privacyDialogTitleText?t.localizedStrings.privacyDialogTitleText:"",dialogButtonClose:t.localizedStrings&&t.localizedStrings.privacyDialogCloseButtonText?t.localizedStrings.privacyDialogCloseButtonText:"",privacyTerms:[],privacyTitle:t.localizedStrings&&t.localizedStrings.privacyTitle?t.localizedStrings.privacyTitle:"",privacyLinkContent:t.localizedStrings&&t.localizedStrings.privacyLinkContent?t.localizedStrings.privacyLinkContent:""}:null},{props:o,missingChildren:[]}}};var V=i("tERu"),K=i("lXoh"),q=i("dTwT"),Z=i("eoyk"),G=i("Am8i");class X extends I.a{constructor(e,t,i,s,o,n,r){super(e,t,i,s,o,n,r),this.focusRedirectEnabled=!1,this.closeContextMenuHandler=()=>{E.a.toggleContextMenuVisibility.getActionSender(this).send(!1)},this.hideSearchHistory=()=>{Object(q.a)().setItem(k.A,"false"),E.a.hideSearchHistory.getActionSender(this).send()},this.showPrivacyDialog=()=>{E.a.changePrivacyDialogState.getActionSender(this).send(!0)},this.manageSearchHistory=e=>{e&&e.length>0&&window.open(e,"_self")},this.fireTelemetry=e=>{const t=C.a.findDOMNode(e);d.a.sendActionEvent(t,G.a.Click,G.b.Hide)},this.chromiumPageSettingsDataConnector=i.connector(H.a.ChromiumPageSettings),this.edgeNextConfig=n,this.renderSearchHistory()}mapStateToProps(e){const t=super.mapStateToProps(e),i=(this.getContainerTelemetryObject(),{config:this.edgeNextConfig,children:this.childComponentInstanceList,state:e,connectorArgs:{getSearchHistoryItemProps:this.getSearchHistoryItemProps.bind(this),baseProps:t,telemetryObject:this.telemetryObject,privacyDialogOnClose:()=>E.a.changePrivacyDialogState.getActionSender(this).send(!1),privacyDialogCloseTelemetryObject:this.closeButtonTelemetryObject}}),s=U.inspect(i);return s.props.containerTelemetry=this.telemetryObject?this.telemetryObject.render():null,Object.assign(Object.assign({},s.props),this.telemetryTags)}onComponentConnect(e){return Object(j.b)(this,void 0,void 0,(function*(){yield A.a.prototype.onComponentConnect.call(this,e),this.registerObserverSearchHistoryToggleUpdated(),this.registerObserverUpdateLayout();Object(q.a)().getObject(k.A,!0)?E.a.updateSearchHistoryVisibility.getActionSender(this).send(!0):E.a.updateSearchHistoryVisibility.getActionSender(this).send(!1),this.chromiumPageSettingsDataConnector.getLayoutStateAsync().then(e=>{E.a.updateSearchHistoryColor.getActionSender(this).send(e.imageOfTheDayEnabled),E.a.updateEdgeNextLayoutMode.getActionSender(this).send(e)}),this.closeButtonTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"privacyDialogCloseButton",behavior:G.b.Close}):null}))}getAccountType(){return Object(j.b)(this,void 0,void 0,(function*(){const e=Object(M.c)();if(!e.AccountInfoPromise)return null;const t=yield e.AccountInfoPromise;if(!t)return d.a.sendAppErrorEvent(Object.assign(Object.assign({},O.mc),{message:"Failed to retrieve account type"})),F.NonSignedIn;switch(t.account_type){case V.b.MSA:return"0";case V.b.AAD:return"1";default:return F.NonSignedIn}}))}getRPSToken(){return Object(j.b)(this,void 0,void 0,(function*(){const e=Object(M.c)();if(!e.AccountInfoPromise)return;const t=yield e.AccountInfoPromise;if(t)return t.account_type===V.b.MSA?new Promise(e=>{const i={account_id:t.account_id,account_type:t.account_type,client_id:N.ClientId,scope_or_resource:N.BingApiScope};(0,window.chrome.authPrivate.acquireAccessTokenSilently)(i,t=>{if(!t.is_success||!t.is_token_valid){const e=Object.assign(Object.assign({},t.error_info),{authPrivateApi:"acquireAccessTokenSilently",accountType:i.account_type,clientId:i.client_id,resource:i.scope_or_resource});d.a.sendAppErrorEvent(Object.assign(Object.assign({},O.hc),{message:"Failed to get access token for search history",pb:Object.assign(Object.assign({},O.hc.pb),{customMessage:JSON.stringify(e)})}))}const s=t.access_token;let o=s;s&&s.length>2&&"t="===s.substring(0,2)&&(o=s.substring(2)),e(o)})}):void 0;d.a.sendAppErrorEvent(Object.assign(Object.assign({},O.lc),{message:"Account info promise is not available on search history",pb:Object.assign(Object.assign({},O.lc.pb),{customMessage:"Bing API Scope: "+N.BingApiScope})}))}))}setAuthBasedSearchHistoryStatus(e,t){if(t&&t.UserHistory&&void 0!==t.UserHistory.BingUserAccountType&&null!==t.UserHistory.BingUserAccountType&&e){const i=t.UserHistory.BingUserAccountType.toString();if(e===F.AAD&&i===F.AAD||e===F.AAD&&i===F.MSA||e===F.MSA&&i===F.AAD||e===F.NonSignedIn&&i===F.AAD)Object(q.a)().setItem(N.NoSearchHistoryExpectedKey,"true"),E.a.fetchSearchHistory.getActionSender(this).send(!1);else if(e===F.MSA&&i===F.MSA){const e=t.UserHistory.QuerySets.filter(e=>"recent"===e.Type);e&&e.length&&e[0].Queries&&e[0].Queries.length?(Object(q.a)().setItem(N.NoSearchHistoryExpectedKey,"false"),E.a.fetchSearchHistory.getActionSender(this).send(!0)):(Object(q.a)().setItem(N.NoSearchHistoryExpectedKey,"true"),E.a.fetchSearchHistory.getActionSender(this).send(!1))}else Object(q.a)().setItem(N.NoSearchHistoryExpectedKey,"false"),E.a.fetchSearchHistory.getActionSender(this).send(!0)}else Object(q.a)().setItem(N.NoSearchHistoryExpectedKey,"false"),E.a.fetchSearchHistory.getActionSender(this).send(!1)}renderSearchHistory(){return Object(j.b)(this,void 0,void 0,(function*(){if(M.b.CurrentRequestTargetScope&&"kids"===M.b.CurrentRequestTargetScope.audienceMode)return;if(this.chromiumPageSettingsDataConnector){let e=this.chromiumPageSettingsDataConnector.getCurrentState().configData;if(void 0===e&&(e=yield this.chromiumPageSettingsDataConnector.getConfigDataAsync()),this.focusRedirectEnabled=e&&e.inPageSearchBoxType===B.b.redirect,this.focusRedirectEnabled)return}this.isCookieConsentRequired()?z.a.cookieConsentStatus.registerObserver(e=>{e.params[0]===R.b.NotRequired&&Object(L.a)().then(()=>{this.fetchAndRenderSearchHistory()})}):(E.a.experienceLoaded.getActionSender(this).send(),Object(L.a)().then(()=>{this.fetchAndRenderSearchHistory()}))}))}getSearchHistoryItemProps(e,t){const i=d.a.getRequestId(),s=this.config.manageHistoryFormCode?this.config.manageHistoryFormCode:t;this.searchHistoryTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"searchHistory",type:G.e.ActionButton},this.searchHistoryTelemetryObject):null,this.moreOptionsTelemetryObject=this.searchHistoryTelemetryObject?this.searchHistoryTelemetryObject.addOrUpdateChild({name:"MoreOptions",type:G.e.ActionButton,content:{headline:"More Options"}},this.moreOptionsTelemetryObject):null;const o=this.moreOptionsTelemetryObject?this.moreOptionsTelemetryObject.render():null,n=e.searchHistoryItems.map((e,s)=>{const o=this.BingUrl+e.href+"&FORM="+t+"&refig="+i+"&msnews=1",n=this.config.itemAriaLabel.children+(s+1)+": "+e.children;this.searchHistoryInteractionTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"searchHistory",type:G.e.Interaction},this.searchHistoryInteractionTelemetryObject):null,this.recentSearchTelemetryObject=this.searchHistoryInteractionTelemetryObject?this.searchHistoryInteractionTelemetryObject.addOrUpdateChild({name:"recentsearch",type:G.e.Interaction,behavior:G.b.TextSearch,content:{type:G.c.SearchHistory},action:G.a.Submit},this.recentSearchTelemetryObject):null;const r=this.recentSearchTelemetryObject?this.recentSearchTelemetryObject.render():null;return Object.assign({href:o,children:e.children,"aria-label":n,target:this.config.openItemLinkInNewTab?"_blank":"_self",title:e.children,className:"searchHistoryEnext_item_text"},r)}),r=this.edgeNextConfig.localizedStrings&&this.edgeNextConfig.localizedStrings.moreOptionsAriaLabel?this.edgeNextConfig.localizedStrings.moreOptionsAriaLabel:"";return{items:n,moreOptions:Object.assign({onClick:t=>{this.moreOptionsActionButton=t.currentTarget,d.a.sendActionEvent(this.moreOptionsActionButton,G.a.Click,G.b.More),t.stopPropagation(),e&&e.showContextMenu?this.closeContextMenuHandler():this.showContextMenuHandler()},"aria-label":r,title:r},o),contextMenu:this.getSearchHistoryContextMenuProps(s),showContextMenu:e.showContextMenu}}showContextMenuHandler(){E.a.toggleContextMenuVisibility.getActionSender(this).send(!0)}getSearchHistoryContextMenuProps(e){const t=this.config.manageHistoryLink+"?FORM="+e,i=this.edgeNextConfig.localizedStrings&&this.edgeNextConfig.localizedStrings.hideSearchHistoryLabel?this.edgeNextConfig.localizedStrings.hideSearchHistoryLabel:"",s=this.edgeNextConfig.localizedStrings&&this.edgeNextConfig.localizedStrings.manageSearchHistoryLabel?this.edgeNextConfig.localizedStrings.manageSearchHistoryLabel:"",o=this.edgeNextConfig.localizedStrings&&this.edgeNextConfig.localizedStrings.privacyRecentSearchLabel?this.edgeNextConfig.localizedStrings.privacyRecentSearchLabel:"";return{hideBelowSearchBoxSuggestionContextMenuItemProps:this.createContextMenuItemProps(i,this.hideSearchHistory,"HideSearchHistory","Hide Search History"),manageBelowSearchBoxSuggestionContextMenuItemProps:this.createContextMenuItemProps(s,this.manageSearchHistory.bind(this,t),"managehistory","Manage Search History"),privacyBelowSearchBoxSuggestionContextMenuItemProps:this.createContextMenuItemProps(o,this.showPrivacyDialog,"WhyAmISeeingThis","Why am I seeing this?"),moreOptionsActionButton:this.moreOptionsActionButton,closeHandler:this.closeContextMenuHandler,telemetryHandler:this.fireTelemetry}}createContextMenuItemProps(e,t,i,s){const o=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"searchhistory",type:G.e.Interaction}):null;return{handler:t,labelText:e,telemetryTags:o?o.addOrUpdateChild({name:i,type:G.e.Interaction,content:{headline:s}}).render():null}}fetchAndRenderSearchHistory(){return Object(j.b)(this,void 0,void 0,(function*(){const e=yield this.getAccountType(),t=this.config.apiEndpoint+e,i=yield this.getRPSToken(),s=yield this.getSearchHistory("SearchHistoryCommon.Connector.ts",t,i);this.setAuthBasedSearchHistoryStatus(e,s);const o=this.getFormCode();s&&E.a.renderSearchHistory.getActionSender(this).send(s,null,o)}))}getFormCode(){const e=this.config.formCodes;switch(M.b.CurrentRequestTargetScope&&M.b.CurrentRequestTargetScope.pageType){case D.b.DHP:return e.contentAlwaysOn;case D.b.NTP:return e.contentOn;default:return""}}registerObserverSearchHistoryToggleUpdated(){K.a.searchHistoryToggleUpdated.registerObserver(e=>{const t=e&&e.params,i=t.length>1&&t[1];if(!t||t.length<1||i)return;const s=t[0];E.a.updateSearchHistoryVisibility.getActionSender(this).send(s)})}registerObserverUpdateLayout(){Z.a.updateLayout.registerObserver(e=>{const t=e&&e.params;!t||t.length<1||(E.a.updateSearchHistoryColor.getActionSender(this).send(t[0].imageOfTheDayEnabled),E.a.updateEdgeNextLayoutMode.getActionSender(this).send(t[0]))})}}var J=i("05Au"),Q=i("a5dx");class $ extends class{reduce(e,t){if(!e)return{searchHistoryItems:[],formCode:"",searchHistorySettings:{}};if(!t)return e;let i,s=!1;return s=J.a.handleAction(t,Q.a.renderSearchHistory,(t,s,o)=>{const n=this.getSearchHistoryItems(t);n&&!n.length||(i=Object.assign(Object.assign({},e),{searchHistoryItems:n,searchHistorySettings:s,formCode:o}))}),i||e}getSearchHistoryItems(e){if(!e||!e.UserHistory||!e.UserHistory.QuerySets)return[];const t=e.UserHistory.QuerySets.filter(e=>"recent"===e.Type);if(!t||!t.length||!t[0].Queries)return[];const i=t[0].Queries.slice(0,5);return i&&i.length?i.map(e=>({children:e.Text,href:e.Url})):[]}}{reduce(e,t){const i=super.reduce(e,t);if(!e)return Object.assign(Object.assign({},i),{showSearchHistory:!0,useHomepageImageEnabledColor:!1,showContextMenu:!1,showPrivacyDialog:!1,edgeNextLayoutState:void 0});if(!t)return e;if(t.type.endsWith(E.a.renderSearchHistory.type))return i;let s,o=!1;return o=o||J.a.handleAction(t,E.a.updateSearchHistoryVisibility,t=>{s=Object.assign(Object.assign({},e),{showSearchHistory:t})}),o=o||J.a.handleAction(t,E.a.updateSearchHistoryColor,t=>{s=Object.assign(Object.assign({},e),{useHomepageImageEnabledColor:t})}),o=o||J.a.handleAction(t,E.a.updateEdgeNextLayoutMode,t=>{s=Object.assign(Object.assign({},e),{edgeNextLayoutState:t})}),o=o||J.a.handleAction(t,E.a.toggleContextMenuVisibility,t=>{s=Object.assign(Object.assign({},e),{showContextMenu:t})}),o=o||J.a.handleAction(t,E.a.hideSearchHistory,()=>{s=Object.assign(Object.assign({},e),{showSearchHistory:!1})}),o=o||J.a.handleAction(t,E.a.fetchSearchHistory,e=>{}),J.a.handleAction(t,E.a.changePrivacyDialogState,t=>{s=Object.assign(Object.assign({},e),{showPrivacyDialog:t})}),o=o||J.a.handleAction(t,E.a.experienceLoaded,()=>{}),s||e}}var Y=i("tsbA"),ee=i("Cr4e");const te=Object(s.a)({searchHistoryEdgenext_addContextMenu:{position:"absolute"}})(P),ie={reactComponent:te,experienceConfigSchema:T.SearchHistoryEdgenextConfigSchema,mockState:o.mockState,mockConfig:Y.mockConfig,mockConnectorArgs:ee.mockConnectorArgs,inspector:U.inspect}},h33R:function(e,t,i){"use strict";var s=i("OnwC"),o=i("w19d"),n=i("ERkP"),r=i.n(n),a=i("MZhw"),c=i("yR4y"),l=i("uT2j");class h extends s.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0,enableAutoFocus:void 0}}render(){return r.a.createElement(l.a,{value:a.c,tag:null},r.a.createElement(o.default,Object.assign({},this.unhandledProps(),{enableAutoFocus:this.props.enableAutoFocus,managedClasses:this.props.managedClasses}),this.props.children))}}h.displayName=c.a+"ContextMenu",h.defaultProps={managedClasses:{}},t.default=h},jAzu:function(e,t,i){"use strict";var s=i("OnwC"),o=i("o1qX"),n=i("ZQwJ"),r=i("yqT/"),a=i("r6MD"),c=i("XJ1h"),l=i("ERkP"),h=i.n(l),d=i("eGM7"),u=i("/E6d");const g=h.a.createContext({viewport:null});var p,m;!function(e){e.left="left",e.insetLeft="insetLeft",e.insetRight="insetRight",e.right="right",e[void 0]="undefined"}(p||(p={})),function(e){e.top="top",e.insetTop="insetTop",e.insetBottom="insetBottom",e.bottom="bottom",e[void 0]="undefined"}(m||(m={}));class b extends s.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,anchor:void 0,viewport:void 0,horizontalPositioningMode:void 0,defaultHorizontalPosition:void 0,horizontalThreshold:void 0,horizontalAlwaysInView:void 0,horizontalLockToDefault:void 0,verticalPositioningMode:void 0,defaultVerticalPosition:void 0,verticalThreshold:void 0,verticalAlwaysInView:void 0,verticalLockToDefault:void 0,fixedAfterInitialPlacement:void 0,scaleToFit:void 0,delayContentInstanciation:void 0,disabled:void 0},this.rootElement=h.a.createRef(),this.openRequestAnimationFrame=null,this.anchorTop=0,this.anchorRight=0,this.anchorBottom=0,this.anchorLeft=0,this.anchorHeight=0,this.anchorWidth=0,this.scrollTop=0,this.scrollLeft=0,this.baseHorizontalOffset=0,this.baseVerticalOffset=0,this.getPositioningStyles=()=>{const e=Object(a.a)(this.props,"style");return Object.assign(Object.assign(Object.assign({},this.props.scaleToFit?{height:this.state.verticalSelectedPositionHeight+"px",width:this.state.horizontalSelectedPositionWidth+"px"}:{}),{opacity:this.props.disabled||this.state.initialLayoutComplete?void 0:0,position:"relative",transformOrigin:`${this.state.xTransformOrigin} ${this.state.yTransformOrigin}`,transform:`translate(\n                ${Math.floor(this.state.xTranslate)}px, \n                ${Math.floor(this.state.yTranslate)}px\n            )`,top:null===this.state.top?null:this.state.top+"px",right:null===this.state.right?null:this.state.right+"px",bottom:null===this.state.bottom?null:this.state.bottom+"px",left:null===this.state.left?null:this.state.left+"px"}),e)},this.updateDisabledState=()=>{Object(r.a)()&&!0!==this.props.disabled?(null===this.getAnchorElement()||null===this.getViewportElement(this.props.viewport))&&this.state.validRefChecksRemaining>0?this.setState({validRefChecksRemaining:this.state.validRefChecksRemaining-1,initialLayoutComplete:this.state.validRefChecksRemaining<=1}):this.enableComponent():this.disable()},this.enableComponent=()=>{const e=this.getViewportElement(this.props.viewport),t=this.getAnchorElement();!this.state.disabled||this.props.disabled||Object(c.a)(t)||Object(c.a)(e)||Object(c.a)(this.rootElement.current)||(window.IntersectionObserver&&window.ResizeObserver?(this.setState({disabled:!1,noObserverMode:!1,validRefChecksRemaining:0}),this.collisionDetector=new window.IntersectionObserver(this.handleCollision,{root:e,rootMargin:"0px",threshold:[0,1]}),this.collisionDetector.observe(this.rootElement.current),this.collisionDetector.observe(t),this.resizeDetector=new window.ResizeObserver(this.handleResize),this.resizeDetector.observe(t),this.resizeDetector.observe(this.rootElement.current),e.addEventListener("scroll",this.handleScroll)):this.setNoObserverMode())},this.setNoObserverMode=()=>{const e=this.getViewportElement(this.props.viewport),t=this.getAnchorElement();if(Object(c.a)(e)||Object(c.a)(t))return;const i=this.rootElement.current.getBoundingClientRect();this.positionerDimension={height:i.height,width:i.width},this.viewportRect=e.getBoundingClientRect();const s=t.getBoundingClientRect();this.anchorTop=s.top,this.anchorRight=s.right,this.anchorBottom=s.bottom,this.anchorLeft=s.left,this.anchorWidth=s.width,this.anchorHeight=s.height,this.updatePositionerOffset(i),this.setState({validRefChecksRemaining:0,disabled:!1,noObserverMode:!0}),this.requestFrame()},this.disable=()=>{this.state.disabled||(this.detachListeners(this.props.viewport),this.setState({disabled:!0,validRefChecksRemaining:0}))},this.detachListeners=e=>{const t=this.getViewportElement(e);Object(c.a)(t)||t.removeEventListener("scroll",this.handleScroll),this.collisionDetector&&"function"==typeof this.collisionDetector.disconnect&&(this.collisionDetector.disconnect(),this.collisionDetector=null),this.resizeDetector&&"function"==typeof this.resizeDetector.disconnect&&(this.resizeDetector.disconnect(),this.resizeDetector=null)},this.getHorizontalPositioningOptions=()=>{switch(this.props.horizontalPositioningMode){case u.a.inset:return[p.insetLeft,p.insetRight];case u.a.adjacent:return[p.left,p.right]}},this.getVerticalPositioningOptions=()=>{switch(this.props.verticalPositioningMode){case u.a.inset:return[m.insetTop,m.insetBottom];case u.a.adjacent:return[m.top,m.bottom]}},this.getAvailableWidth=e=>{const t=this.anchorLeft-this.viewportRect.left,i=this.viewportRect.right-(this.anchorLeft+this.anchorWidth);switch(e){case p.left:return t;case p.insetLeft:return t+this.anchorWidth;case p.insetRight:return i+this.anchorWidth;case p.right:return i}},this.getAvailableHeight=e=>{const t=this.anchorTop-this.viewportRect.top,i=this.viewportRect.bottom-(this.anchorTop+this.anchorHeight);switch(e){case m.top:return t;case m.insetTop:return t+this.anchorHeight;case m.insetBottom:return i+this.anchorHeight;case m.bottom:return i}},this.handleScroll=()=>{this.requestFrame()},this.handleResize=e=>{e.forEach(e=>{e.target===this.rootElement.current?this.handlePositionerResize(e):this.handleAnchorResize(e)})},this.handlePositionerResize=e=>{this.props.scaleToFit||(this.positionerDimension={height:e.contentRect.height,width:e.contentRect.width},this.requestFrame())},this.handleAnchorResize=e=>{this.anchorHeight=e.contentRect.height,this.anchorWidth=e.contentRect.width,this.state.currentVerticalPosition===m.top||this.state.currentVerticalPosition===m.insetTop?this.anchorBottom=this.anchorTop+this.anchorHeight:this.anchorTop=this.anchorBottom-this.anchorHeight,this.state.currentHorizontalPosition===p.left||this.state.currentHorizontalPosition===p.insetLeft?this.anchorRight=this.anchorLeft+this.anchorWidth:this.anchorLeft=this.anchorRight-this.anchorWidth,this.requestFrame()},this.handleCollision=(e,t)=>{let i=null;e.forEach(t=>{t.target===this.rootElement.current?(this.handlePositionerCollision(t,1===e.length),i=t.boundingClientRect):this.handleAnchorCollision(t)});const s=this.getViewportElement(this.props.viewport);Object(c.a)(s)||(this.scrollTop=s.scrollTop,this.scrollLeft=s.scrollLeft),2===e.length&&null!==i&&this.updatePositionerOffset(i),this.requestFrame()},this.handleAnchorCollision=e=>{this.viewportRect=e.rootBounds,this.anchorTop=e.boundingClientRect.top,this.anchorRight=e.boundingClientRect.right,this.anchorBottom=e.boundingClientRect.bottom,this.anchorLeft=e.boundingClientRect.left,this.anchorHeight=e.boundingClientRect.height,this.anchorWidth=e.boundingClientRect.width},this.handlePositionerCollision=(e,t)=>{this.viewportRect=e.rootBounds;const i=e.boundingClientRect;if(this.positionerDimension={height:i.height,width:i.width},t){switch(this.state.currentVerticalPosition){case m.top:this.anchorTop=i.bottom-this.state.yTranslate,this.anchorBottom=this.anchorTop+this.anchorHeight;break;case m.insetTop:this.anchorBottom=i.bottom-this.state.yTranslate,this.anchorTop=this.anchorBottom-this.anchorHeight;break;case m.insetBottom:this.anchorTop=i.top-this.state.yTranslate,this.anchorBottom=this.anchorTop+this.anchorHeight;break;case m.bottom:this.anchorBottom=i.top-this.state.yTranslate,this.anchorTop=this.anchorBottom-this.anchorHeight}switch(this.state.currentHorizontalPosition){case p.left:this.anchorLeft=i.right-this.state.xTranslate,this.anchorRight=this.anchorLeft+this.anchorWidth;break;case p.insetLeft:this.anchorRight=i.right-this.state.xTranslate,this.anchorLeft=this.anchorRight-this.anchorWidth;break;case p.insetRight:this.anchorLeft=i.left-this.state.xTranslate,this.anchorRight=this.anchorLeft+this.anchorWidth;break;case p.right:this.anchorRight=i.left-this.state.xTranslate,this.anchorLeft=this.anchorRight-this.anchorWidth}}},this.updatePositionerOffset=e=>{if(this.props.horizontalPositioningMode===u.a.uncontrolled)this.baseHorizontalOffset=this.anchorLeft-e.left;else switch(this.state.currentHorizontalPosition){case p.undefined:this.baseHorizontalOffset=this.anchorLeft+this.state.xTranslate-e.left;break;case p.left:this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorLeft+this.state.xTranslate-e.right);break;case p.insetLeft:this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorRight+this.state.xTranslate-e.right);break;case p.insetRight:this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorLeft+this.state.xTranslate-e.left);break;case p.right:this.baseHorizontalOffset=this.baseHorizontalOffset+(this.anchorRight+this.state.xTranslate-e.left)}if(this.props.verticalPositioningMode===u.a.uncontrolled)this.baseVerticalOffset=this.anchorBottom-e.top;else switch(this.state.currentVerticalPosition){case m.undefined:this.baseVerticalOffset=this.anchorBottom+this.state.yTranslate-e.top;break;case m.top:this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorTop+this.state.yTranslate-e.bottom);break;case m.insetTop:this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorBottom+this.state.yTranslate-e.bottom);break;case m.insetBottom:this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorTop+this.state.yTranslate-e.top);break;case m.bottom:this.baseVerticalOffset=this.baseVerticalOffset+(this.anchorBottom+this.state.yTranslate-e.top)}},this.updateForScrolling=()=>{const e=this.getViewportElement(this.props.viewport);if(Object(c.a)(e)||isNaN(e.scrollTop))return;const t=e.scrollTop,i=e.scrollLeft;if(this.scrollTop!==t){const e=this.scrollTop-t;this.scrollTop=t,this.anchorTop=this.anchorTop+e,this.anchorBottom=this.anchorBottom+e}if(this.scrollLeft!==i){const e=this.scrollLeft-i;this.scrollLeft=i,this.anchorLeft=this.anchorLeft+e,this.anchorRight=this.anchorRight+e}},this.updateLayout=()=>{if(this.openRequestAnimationFrame=null,this.state.disabled||Object(c.a)(this.viewportRect)||Object(c.a)(this.positionerDimension)||this.props.fixedAfterInitialPlacement&&this.state.initialLayoutComplete||this.state.noObserverMode&&this.state.initialLayoutComplete)return;this.updateForScrolling();let e=m.undefined,t=p.undefined;if(this.props.horizontalPositioningMode!==u.a.uncontrolled){const e=this.getHorizontalPositioningOptions();t=this.state.defaultHorizontalPosition;const i=void 0!==this.props.horizontalThreshold?this.props.horizontalThreshold:this.positionerDimension.width;(t===p.undefined||!this.props.horizontalLockToDefault&&this.getAvailableWidth(t)<i)&&(t=this.getAvailableWidth(e[0])>this.getAvailableWidth(e[1])?e[0]:e[1])}if(this.props.verticalPositioningMode!==u.a.uncontrolled){const t=this.getVerticalPositioningOptions();e=this.state.defaultVerticalPosition;const i=void 0!==this.props.verticalThreshold?this.props.verticalThreshold:this.positionerDimension.height;(e===m.undefined||!this.props.verticalLockToDefault&&this.getAvailableHeight(e)<i)&&(e=this.getAvailableHeight(t[0])>this.getAvailableHeight(t[1])?t[0]:t[1])}const i=this.getNextPositionerDimension(t,e);this.setState(Object.assign({xTranslate:this.getHorizontalTranslate(t),yTranslate:this.getVerticalTranslate(e),initialLayoutComplete:!0},this.getHorizontalPositioningState(t,i),this.getVerticalPositioningState(e,i)))},this.getNextPositionerDimension=(e,t)=>{const i={height:this.positionerDimension.height,width:this.positionerDimension.width};return this.props.scaleToFit&&(i.height=Math.max(Math.min(this.getAvailableHeight(t),this.viewportRect.height),Object(c.a)(this.props.verticalThreshold)?0:this.props.verticalThreshold),i.width=Math.max(Math.min(this.getAvailableWidth(e),this.viewportRect.width),Object(c.a)(this.props.horizontalThreshold)?0:this.props.horizontalThreshold)),i},this.getHorizontalPositioningState=(e,t)=>{let i=null,s=null,o="left";switch(e){case p.left:o="right",i=t.width-this.baseHorizontalOffset;break;case p.insetLeft:o="right",i=t.width-this.anchorWidth-this.baseHorizontalOffset;break;case p.insetRight:o="left",s=this.baseHorizontalOffset;break;case p.right:o="left",s=this.anchorWidth+this.baseHorizontalOffset}return{xTransformOrigin:o,right:i,left:s,currentHorizontalPosition:e,horizontalSelectedPositionWidth:t.width}},this.getVerticalPositioningState=(e,t)=>{let i=null,s=null,o="top";switch(e){case m.top:o="bottom",s=t.height+this.anchorHeight-this.baseVerticalOffset;break;case m.insetTop:o="bottom",s=t.height-this.baseVerticalOffset;break;case m.insetBottom:o="top",i=this.baseVerticalOffset-this.anchorHeight;break;case m.bottom:o="top",i=this.baseVerticalOffset}return{yTransformOrigin:o,top:i,bottom:s,currentVerticalPosition:e,verticalSelectedPositionHeight:t.height}},this.getHorizontalTranslate=e=>{if(!this.props.horizontalAlwaysInView||this.state.disabled)return 0;let t=0;switch(e){case p.left:t=this.viewportRect.right-this.anchorLeft,t=t<0?t-1:0;break;case p.insetLeft:t=this.viewportRect.right-this.anchorRight,t=t<0?t-1:0;break;case p.insetRight:t=this.viewportRect.left-this.anchorLeft,t=t>0?t+1:0;break;case p.right:t=this.viewportRect.left-this.anchorRight,t=t>0?t+1:0}return t},this.getVerticalTranslate=e=>{if(!this.props.verticalAlwaysInView||this.state.disabled)return 0;let t=0;switch(e){case m.top:t=this.viewportRect.bottom-this.anchorTop,t=t<0?t-1:0;break;case m.insetTop:t=this.viewportRect.bottom-this.anchorBottom,t=t<0?t-1:0;break;case m.insetBottom:t=this.viewportRect.top-this.anchorTop,t=t<0?0:t+1;break;case m.bottom:t=this.viewportRect.top-this.anchorBottom,t=t<0?0:t+1}return t},this.requestFrame=()=>{null===this.openRequestAnimationFrame&&(this.openRequestAnimationFrame=window.requestAnimationFrame(this.updateLayout))},this.getAnchorElement=()=>Object(c.a)(this.props.anchor)?null:this.extractElement(this.props.anchor),this.getViewportElement=e=>{if(!Object(c.a)(e)){const t=this.extractElement(e);return null!==t?t:null}if(!Object(c.a)(this.context.viewport)){const e=this.extractElement(this.context.viewport);return null!==e?e:null}return document.scrollingElement instanceof HTMLElement?document.scrollingElement:null},this.extractElement=e=>{const t=Object(n.a)(e);return t instanceof HTMLElement?t:null},this.getHorizontalPositionToLabel=(e,t)=>{switch(e){case u.a.inset:if(t===u.b.left)return p.insetLeft;if(t===u.b.right)return p.insetRight;case u.a.adjacent:if(t===u.b.left)return p.left;if(t===u.b.right)return p.right;case u.a.uncontrolled:return p.undefined}},this.getVerticalPositionToLabel=(e,t)=>{switch(e){case u.a.inset:if(t===u.c.top)return m.insetTop;if(t===u.c.bottom)return m.insetBottom;case u.a.adjacent:if(t===u.c.top)return m.top;if(t===u.c.bottom)return m.bottom;case u.a.uncontrolled:return m.undefined}},this.generateInitialState=()=>({disabled:!0,noObserverMode:!1,xTransformOrigin:"left",yTransformOrigin:"top",xTranslate:0,yTranslate:0,top:null,right:null,bottom:null,left:null,currentHorizontalPosition:p.undefined,currentVerticalPosition:m.undefined,defaultHorizontalPosition:this.getHorizontalPositionToLabel(this.props.horizontalPositioningMode,this.props.defaultHorizontalPosition),defaultVerticalPosition:this.getVerticalPositionToLabel(this.props.verticalPositioningMode,this.props.defaultVerticalPosition),horizontalSelectedPositionWidth:null,verticalSelectedPositionHeight:null,initialLayoutComplete:!1,validRefChecksRemaining:2}),this.state=this.generateInitialState()}componentDidMount(){this.updateDisabledState(),this.requestFrame()}componentWillUnmount(){this.state.disabled||this.detachListeners(this.props.viewport)}componentDidUpdate(e){if(e!==this.props){if(e.anchor!==this.props.anchor||e.viewport!==this.props.viewport)return this.detachListeners(e.viewport),void this.setState(this.generateInitialState());this.requestFrame()}(e.disabled!==this.props.disabled||this.state.validRefChecksRemaining>0)&&this.updateDisabledState()}render(){return h.a.createElement("div",Object.assign({},this.unhandledProps(),{ref:this.rootElement,className:this.generateClassNames(),style:this.getPositioningStyles()}),this.props.disabled||this.state.initialLayoutComplete||!this.props.delayContentInstanciation?this.props.children:null)}generateClassNames(){const{viewportPositioner:e,viewportPositioner__left:t,viewportPositioner__right:i,viewportPositioner__top:s,viewportPositioner__bottom:n,viewportPositioner__horizontalInset:r,viewportPositioner__verticalInset:a}=this.props.managedClasses,c=this.state.currentHorizontalPosition,l=this.state.currentVerticalPosition,h=l===m.insetTop||l===m.insetBottom,d=c===p.insetLeft||c===p.insetRight;return super.generateClassNames(Object(o.a)(e,[t,c===p.left||c===p.insetLeft],[i,c===p.right||c===p.insetRight],[r,d],[s,l===m.top||l===m.insetTop],[n,l===m.bottom||l===m.insetBottom],[a,h]))}}b.displayName=d.DisplayNamePrefix+"ViewportPositioner",b.contextType=g,b.defaultProps={horizontalPositioningMode:u.a.uncontrolled,defaultHorizontalPosition:u.b.uncontrolled,verticalPositioningMode:u.a.adjacent,defaultVerticalPosition:u.c.bottom,horizontalAlwaysInView:!1,verticalAlwaysInView:!1,verticalLockToDefault:!1,horizontalLockToDefault:!1,fixedAfterInitialPlacement:!1,scaleToFit:!1,delayContentInstanciation:!1,managedClasses:{}},b.contextType=g;var f=b;t.a=f},lXoh:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i("G82u");class o{}o.customLayoutChange=new s.a("customLayoutChange"),o.initialize=new s.a("initialize"),o.layoutChange=new s.a("layoutChange"),o.toggleSection=new s.a("toggleSection"),o.recommendedSearchToggleUpdated=new s.a("recommendedSearchToggleUpdated"),o.searchHistoryToggleUpdated=new s.a("searchHistoryToggleUpdated")},mKi5:function(e,t,i){"use strict";var s=i("fz//"),o=i("3ZGc"),n=i("PfRV"),r=i("MF9s"),a=i("7FLv"),c=i("objN"),l=i("MZhw");const h={contextMenu:Object.assign(Object.assign(Object.assign({background:l.c},Object(n.b)()),Object(a.b)(a.a.e11)),{margin:"0",padding:Object(s.a)("{0} 0",Object(o.a)(r.p)),"max-width":"368px","min-width":"64px",transition:"all 0.2s ease-in-out",[c.D]:Object.assign(Object.assign({},c.w),{background:c.a.buttonBackground,border:Object(s.a)("{0} solid {1}",Object(o.a)(r.X),()=>c.a.buttonText)})})};t.a=h},oumg:function(e,t){},stS0:function(e,t,i){"use strict";i.d(t,"a",(function(){return D}));var s=i("+viU"),o=i("Fao1"),n=i("e0li"),r=i("mwRD"),a=i("idb7"),c=i("3EfD"),l=i("CiAa"),h=i("wirn"),d=i("YJhp"),u=i("MF9s"),g=i("HzrG"),p=i("objN"),m=i("SP+O"),b=i("HZZz"),f=i("aP31"),y=i("3ZGc"),C=i("rRWH"),O=i("mObi"),x=i("r6MD"),v=i("0fst"),S=i("HDSB");const _="rgba(0, 0, 0, 0.4)",w=Object(O.a)((e={},t=null)=>null==t?e:Object.assign(Object.assign({},e),{dialog_modalOverlay:Object.assign(Object.assign({},e.dialog_modalOverlay),{"z-index":t.toString()}),dialog_contentRegion:Object.assign(Object.assign({},e.dialog_contentRegion),{"z-index":(t+1).toString()})}));var P=i("OnwC"),E=i("AxnZ"),T=i("ERkP"),j=i.n(T);const M={dialogButtonClose:"close dialog",dialogTitle:"Why am I seeing this?",privacyTitle:"We use some or all of the following factors to pick recommended searches for you:",privacyTerms:["Trending searches on the web","Current site / app content","Your preferences (explicit or implicit)","Your location"],privacyLinkContent:"Visit{0} to learn more and to manage your personalization settings"},H=Object(s.a)(e=>({dialog:{display:"none",'&[aria-hidden="false"]':{display:"block"}},dialog_modalOverlay:{background:_,bottom:"0",left:"0",position:"fixed",right:"0",top:"0","z-index":""+v.a.Above},dialog_contentRegion:{background:u.k,"border-radius":Object(y.a)(4),"box-shadow":"none",position:"fixed",[Object(C.b)("left","right",e.direction)]:"50%",top:"50%",transform:"translate(-50%, -50%)","z-index":""+(v.a.Above+1)}}))(c.default);class R extends P.a{constructor(e){super(e),this.handledProps={baseDialogProps:void 0,closeButtonTelemetryObject:void 0,dialogStrings:void 0,enabled:void 0,managedClasses:void 0,onClose:void 0,baseDialogStyleOverride:void 0,zIndex:void 0,privacyHypertext:void 0},this.dialogStrings=Object.assign(Object.assign({},M),e.dialogStrings)}render(){const{managedClasses:e,enabled:t,baseDialogProps:i,onClose:s,closeButtonTelemetryObject:c,baseDialogStyleOverride:l,zIndex:u}=this.props;return t?j.a.createElement(H,Object.assign({},this.coerceDialogProps(i),this.unhandledProps(),{onDismiss:s,jssStyleSheet:w(l,u)}),j.a.createElement("div",{className:e.dialogContainer},j.a.createElement("div",{className:e.header},j.a.createElement(o.a,{size:n.a._5,tag:n.b.h3,className:e.headerText},this.dialogStrings.dialogTitle),j.a.createElement(r.a,Object.assign({onClick:s,className:e.closeButton,title:this.dialogStrings.dialogButtonClose},c?c.render():null),j.a.createElement(h.a,{className:e.closeIcon,glyphType:d.b.Close}))),j.a.createElement(a.a,null,j.a.createElement("div",{className:e.privacyText}," ",this.dialogStrings.privacyTitle),this.renderPrivacyTerms(),this.renderPrivacyLinkText()))):null}coerceDialogProps(e){return Object.assign({visible:this.props.enabled,modal:!0,contentHeight:"auto",contentWidth:"auto"},e)}renderPrivacyTerms(){const{managedClasses:e}=this.props;return j.a.createElement("ul",null,this.dialogStrings.privacyTerms.map((t,i)=>j.a.createElement("li",{className:e.privacyTerms,key:i}," ",t," ")))}renderPrivacyLinkText(){return j.a.createElement("div",{className:this.props.managedClasses.privacyLinkContent},Object(E.a)(this.dialogStrings.privacyLinkContent,this.getPrivacyHyperLink()))}getPrivacyHyperLink(){return this.props.privacyHypertext&&this.props.privacyHypertext.children?j.a.createElement(l.default,Object.assign({},this.props.privacyHypertext,{className:this.props.managedClasses.privacyHyperLink,target:"_blank"})):null}}const D=Object(s.a)(e=>{const t={background:Object(x.a)(e,"backgroundColor",g.b.backgroundColor)},i=Object(S.a)()&&("backdrop-filter"in document.documentElement.style||"-webkit-backdrop-filter"in document.documentElement.style)?{background:"none"}:t;return{closeButton:{background:"transparent !important",border:"none",height:Object(y.a)(24),"min-width":Object(y.a)(24),padding:"0",[Object(C.b)("right","left",e.direction)]:"4px","&:hover, &:focus, &:active":{cursor:"pointer",outline:"auto"},[p.D]:{background:"ButtonFace","& svg":{fill:"ButtonText"},"&:hover, &:focus, &:active":{background:"Highlight","& svg":{fill:"HighlightText"}}}},closeIcon:{fill:m.c},dialogContainer:Object.assign(Object.assign({},i),{"border-radius":Object(y.a)(4),"box-sizing":"content-box",padding:"24px",width:Object(y.a)(322),[p.D]:{border:"1px solid Highlight"}}),header:{display:"flex","line-height":Object(y.a)(24),"padding-bottom":"12px"},headerText:{"font-weight":""+b.fontWeight.semibold,margin:"0",width:"100%"},privacyText:{"text-align":""+[Object(C.b)("left","right",e.direction)]},privacyTerms:{"text-align":""+[Object(C.b)("left","right",e.direction)]},privacyLinkContent:{"text-align":""+[Object(C.b)("left","right",e.direction)]},privacyHyperLink:{"text-decoration":"none",color:f.c,"&:hover":{cursor:"pointer"}}}})(R)},tsbA:function(e,t){},uT2j:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var s=i("OnwC"),o=i("HzrG"),n=i("MZhw"),r=i("1j0g"),a=i("qGiF"),c=i("mObi"),l=i("IlL2"),h=i("r6MD"),d=i("ERkP"),u=i.n(d);class g extends s.a{constructor(){super(...arguments),this.handledProps={tag:void 0,value:void 0,drawBackground:void 0,designSystemMergingFunction:void 0},this.getDesignSystemOverrides=Object(c.a)(e=>({backgroundColor:e})),this.withContext=e=>{const t=this.props.value,i="string"==typeof t?t:"function"==typeof t?t(e):Object(l.a)(e.neutralPalette,t)?Object(h.a)(e.neutralPalette,t):o.b.neutralPalette[t]||g.defaultProps.value(o.b),s=Object.assign({},this.props.style,this.props.drawBackground?{backgroundColor:i}:void 0);return u.a.createElement(r.a,{designSystem:this.getDesignSystemOverrides(i),designSystemMergingFunction:this.props.designSystemMergingFunction},this.tag&&u.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{style:s}),this.props.children)||this.props.children)}}render(){return u.a.createElement(a.a,null,this.withContext)}get tag(){return this.props.tag}}g.defaultProps={tag:"div",value:n.d,drawBackground:!0}},w19d:function(e,t,i){"use strict";var s=i("Pv0f");i.o(s,"AutoSuggestContext")&&i.d(t,"AutoSuggestContext",(function(){return s.AutoSuggestContext})),i.o(s,"ButtonDirection")&&i.d(t,"ButtonDirection",(function(){return s.ButtonDirection})),i.o(s,"ProgressType")&&i.d(t,"ProgressType",(function(){return s.ProgressType})),i.o(s,"RadioSlot")&&i.d(t,"RadioSlot",(function(){return s.RadioSlot})),t.default=s.default}}]);