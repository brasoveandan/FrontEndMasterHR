(window.webpackJsonp=window.webpackJsonp||[]).push([["shopping-smart-list"],{"13C5":function(e,t){},"6PtM":function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var i=s("+viU"),o=s("Gy7L"),r=s("OnwC"),n=s("ERkP"),a=s.n(n);class c extends r.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,blurHandler:void 0},this.onKeyDown=e=>{switch(e.keyCode){case o.e:this.focusPreviousItem(),e.preventDefault();break;case o.b:this.focusNextItem(),e.preventDefault();break;case o.m:e.shiftKey?this.focusPreviousItem():this.focusNextItem(),e.preventDefault()}}}render(){const{managedClasses:e}=this.props;return a.a.createElement("div",{onKeyDown:this.onKeyDown},this.props.children)}focusNextItem(){let e=document.activeElement.nextSibling;for(;e&&-1!==e.tabIndex;)e=e.nextSibling;e?e.focus():this.props.blurHandler()}focusPreviousItem(){let e=document.activeElement.previousSibling;for(;e&&-1!==e.tabIndex;)e=e.previousSibling;e?e.focus():this.props.blurHandler()}}const p=Object(i.a)({HoverFlyoutList_root:{}})(c)},"6fq4":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("HDSB");let o=!1;Object(i.a)()&&(window.addEventListener("keydown",()=>{o=!0}),window.addEventListener("mousedown",()=>{o=!1}))},"6nIz":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var i=s("+viU"),o=s("OnwC"),r=s("6fq4"),n=s("1I/+"),a=s("ERkP"),c=s.n(a),p=s("Gy7L");class l extends o.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,targetRect:void 0,requestOpen:void 0,onClosed:void 0,flyoutWidth:void 0,requestContext:void 0},this.onResize=()=>{this.props.onClosed(!0)},this.onScroll=()=>{this.props.onClosed(!0)},this.onKeyDown=e=>{e.keyCode===p.h&&this.props.onClosed(!0)},this.onMouseEnter=()=>{this.mouseOverFlyout=!0,this.cancelCloseIfNeeded(),this.cancelStrayMouseTimerIfNeeded()},this.onMouseLeave=()=>{this.mouseOverFlyout=!1,this.startStrayMouseTimerIfNeeded()},this.onFocus=()=>{r.a&&(this.focusInFlyout=!0,this.cancelCloseIfNeeded(),this.cancelStrayMouseTimerIfNeeded())},this.onBlur=()=>{this.focusInFlyout=!1,this.startStrayMouseTimerIfNeeded()},this.state={visible:!1}}componentDidMount(){window.addEventListener("resize",this.onResize),window.addEventListener("scroll",this.onScroll),setTimeout(()=>{this.setState({visible:!0})},0)}render(){const e=this.props.targetRect,t=e.top+e.bottom<window.innerHeight,s=Object(n.b)(this.props.requestContext.data.innerWidth,"innerWidth");let i=Math.round((e.left+e.right-this.props.flyoutWidth)/2);i<16?i=16:i>s-16-this.props.flyoutWidth&&(i=s-16-this.props.flyoutWidth);const o={left:i+"px",width:this.props.flyoutWidth+"px",opacity:this.state.visible?1:0};if(t){const t=e.bottom+0;o.top=t+"px",o.maxHeight=window.innerHeight-t-16+"px"}else{const t=window.innerHeight-e.top+0;o.bottom=t+"px",o.maxHeight=e.top-0-16+"px"}return c.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses.HoverFlyout_root),style:o,onKeyDown:this.onKeyDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur}),this.props.children)}componentDidUpdate(e){e.requestOpen!==this.props.requestOpen&&(this.props.requestOpen?(this.cancelCloseIfNeeded(),this.cancelStrayMouseTimerIfNeeded()):this.startStrayMouseTimerIfNeeded())}componentWillUnmount(){window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll),this.cancelStrayMouseTimerIfNeeded(),this.cancelCloseIfNeeded()}startStrayMouseTimerIfNeeded(){this.mouseOverFlyout||this.props.requestOpen||this.focusInFlyout||(this.strayMouseTimerHandle=setTimeout(()=>{this.startClosing(),this.strayMouseTimerHandle=null},200))}cancelStrayMouseTimerIfNeeded(){this.strayMouseTimerHandle&&clearTimeout(this.strayMouseTimerHandle)}cancelCloseIfNeeded(){this.closeAnimationTimerHandle&&clearTimeout(this.closeAnimationTimerHandle),this.state.visible||this.setState({visible:!0})}startClosing(){this.closeAnimationTimerHandle=setTimeout(()=>{this.props.onClosed(!1)},200),this.setState({visible:!1})}}var h=s("MZhw"),d=s("objN"),f=s("0fst");const m={HoverFlyout_root:Object.assign({background:h.c,"box-shadow":"2px 5px 20px 0px rgba(0,0,0,0.22), 0px 13px 13px rgba(0,0,0,0.18)","border-radius":"4px",overflow:"auto",position:"fixed",transition:"opacity 0.2s ease-in","z-index":f.a.Flyout.toString()},d.d)},u=Object(i.a)(m)(l)},AuhI:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("3ZGc");function o(e,t){return{overflow:"hidden","box-sizing":"content-box","max-height":Object(i.a)(e*t),"white-space":1===e?"nowrap":null}}},KvMR:function(e,t){},w3Qw:function(e,t){},yPLi:function(e,t,s){"use strict";s.r(t),s.d(t,"ShoppingSmartList",(function(){return ce})),s.d(t,"ShoppingSmartListActions",(function(){return j})),s.d(t,"ShoppingSmartListConnector",(function(){return G})),s.d(t,"ShoppingSmartListConstants",(function(){return x})),s.d(t,"ShoppingSmartListError",(function(){return B.pg})),s.d(t,"ShoppingSmartListInspector",(function(){return k})),s.d(t,"ShoppingSmartListReducer",(function(){return V})),s.d(t,"ShoppingSmartListRegistration",(function(){return W})),s.d(t,"ShoppingSmartListServiceClient",(function(){return K})),s.d(t,"ShoppingSmartListState",(function(){return J})),s.d(t,"ShoppingSmartListTelemetryNames",(function(){return C})),s.d(t,"ToolingInfo",(function(){return pe}));var i=s("+viU"),o=s("w3Qw"),r=s("5mwN"),n=s("6u3Q"),a=s("wirn"),c=s("qGiF"),p=s("6nIz"),l=s("6PtM"),h=s("OnwC"),d=s("ERkP"),f=s.n(d);class m extends h.a{constructor(e){super(e),this.handledProps={ariaHelpText:void 0,url:void 0,managedClasses:void 0}}render(){const{managedClasses:e}=this.props;return f.a.createElement("a",{"aria-label":this.props.ariaHelpText,className:this.generateClassNames(e.HoverFlyoutListItemRoot),href:this.props.url,rel:"noopener",target:"_blank"},this.props.children)}}var u=s("LD6M"),g=s("7b0X");const S=Object(i.a)(e=>({HoverFlyoutListItemRoot:{display:"flex",padding:"2px","text-decoration":"none","&:hover":{background:u.b},"&:active":{background:u.a},"&:focus":{outline:"none","border-color":g.a,"border-style":"solid","border-width":"2px",padding:"0"}}}))(m);class v extends r.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},r.b),{managedClasses:void 0,offerExpiryText:void 0,timeLeftForExpiry:void 0})}render(){super.render();const{managedClasses:e,timeLeftForExpiry:t}=this.props;return f.a.createElement(f.a.Fragment,null,f.a.createElement("span",{className:e.offerTimerRoot},this.renderOfferExpiryTimer(t)))}renderOfferExpiryTimer(e){if(e>864e5){const t=new Date(Date.now()+e);return`Valid till ${t.getDate()} ${t.toLocaleString("default",{month:"short"})} ${t.getFullYear()}`}e/=1e3;const t=Math.floor(e/3600);e%=3600;const s=Math.floor(e/60);return e=Math.floor(e%60),t>0?`${t} hours ${s>0?s+" mins":""}  to go`:s>0?`${s} mins ${e>0?e+" secs":""} to go`:e>0?e+" secs to go":this.props.offerExpiryText}}v.defaultProps={experienceName:"OfferTimer"};const b=Object(i.a)(e=>({offerTimerRoot:{}}))(v);var O=s("7nmT"),y=s.n(O);const x={CardSize:{width:320,height:290},OfferListItemBulletSize:{width:6,height:6},FooterIconSize:{width:16,height:16},FooterLinkSize:{width:256,height:20},ApiVersion:"v1"},C={ShoppingSmartListFooterLink:"shopping_smartlist_footer-link",ShoppingSmartListOffers:"shopping_smartlist_offers"};var L;!function(e){e[e.ntp=0]="ntp",e[e.dhp=1]="dhp"}(L||(L={}));class F extends r.a{constructor(){super(...arguments),this.handledProps=Object.assign(Object.assign({},r.b),{hoverFlyoutOpen:void 0,footer:void 0,managedClasses:void 0,numberOfFooterItems:void 0,numberOfOfferItems:void 0,offers:void 0,onClosed:void 0,onComponentCreated:void 0,requestOpen:void 0,shoppingSmartListLocalizationProps:void 0,shoppingSmartListFooterTelemetryTags:void 0,shoppingSmartListOffersTelemetryTags:void 0,targetSmartListRect:void 0,requestContext:void 0}),this.onClosed=e=>{this.props.onClosed&&this.props.onClosed(e)},this.onListBlur=()=>{this.lastFocusButton&&this.lastFocusButton.focus()}}render(){return super.render(),this.props.targetSmartListRect&&this.props.hoverFlyoutOpen&&this.props.offers&&this.props.offers.length?(this.itemRefs=[],this.refreshState=!1,this.updateTimer(),f.a.createElement(p.a,Object.assign({className:this.props.managedClasses.shoppingSmartList_root,flyoutWidth:x.CardSize.width,id:"shoppingFlyout",onClosed:this.onClosed,requestOpen:this.props.requestOpen,targetRect:this.props.targetSmartListRect,requestContext:this.props.requestContext},this.unhandledProps()),this.renderSmartList())):null}renderSmartList(){return f.a.createElement(l.a,{"aria-label":this.props.shoppingSmartListLocalizationProps.accessibility.TrendingDeals,blurHandler:this.onListBlur},this.renderOffers(),this.renderFooter())}renderOffers(){const e=[],{shoppingSmartListOffersTelemetryTags:t}=this.props;if(this.props.offers){let s=this.props.offers.length;this.props.numberOfOfferItems<s&&(s=this.props.numberOfOfferItems);for(let i=0;i<s;++i)e.push(this.renderSmartListItem(this.props.offers[i],t[i],i))}return e}renderSmartListItem(e,t,s){const{offerDecoration:i,expiredOffer:o,expiredOfferItemBullet:r,offerItemBullet:n,offerItemBulletDiv:a,offerItemContainerStyle:c,offerItemTitleDiv:p,offerItemDetailsDiv:l,offerItemTitleText:h,offerMerchantName:d,validOffer:m,validOfferItemBullet:u}=this.props.managedClasses,g=f.a.createRef();this.itemRefs.push(g);const{annotation:v,clickUrl:b,expiryUnixTime:O,id:y,merchantName:x,title:C}=e;v||(e.timeLeftForExpiry=O-Date.now());const L=!v&&e.timeLeftForExpiry&&e.timeLeftForExpiry<=0;return f.a.createElement(S,{ariaHelpText:this.props.shoppingSmartListLocalizationProps.accessibility.OfferItem,key:s,ref:g,url:b},f.a.createElement("div",Object.assign({className:c,id:y},t),f.a.createElement("div",{className:a},f.a.createElement("div",{className:n+(L?" "+r:" "+u)})),f.a.createElement("div",{className:L?o:m},f.a.createElement("div",{className:p},f.a.createElement("span",{className:h},C)),f.a.createElement("div",{className:l},f.a.createElement("span",{className:d},x)),f.a.createElement("div",{className:i},this.renderOfferDecoration(e)))))}renderFooter(){const e=[],{footer:t,shoppingSmartListFooterTelemetryTags:s}=this.props;if(this.props.footer){let i=this.props.footer.length;this.props.numberOfFooterItems<i&&(i=this.props.numberOfFooterItems);for(let o=0;o<i;++o)e.push(this.renderFooterLink(t[o],s[o],o,0==o))}return e}renderFooterLink(e,t,s,i){const{clickoutIconDiv:o,clickoutLink:r,clickoutLinkDiv:p,footerFirstItemDivStyle:l,footerItemDivStyle:h}=this.props.managedClasses,d=f.a.createRef();return this.itemRefs.push(d),f.a.createElement(S,{ariaHelpText:this.props.shoppingSmartListLocalizationProps.accessibility.FooterLink,key:s,ref:d,url:e.link.clickUrl},f.a.createElement("div",Object.assign({className:i?l:h},t),f.a.createElement(c.a,null,t=>f.a.createElement("div",{className:o},f.a.createElement(a.a,{glyphType:this.generateGlyphType(e.glyphType,Object(n.e)(t))}))),f.a.createElement("div",{className:p},f.a.createElement("div",null,f.a.createElement("span",{className:r},e.link.text)))))}componentDidMount(){this.props.onComponentCreated(this)}componentDidUpdate(e){!e.hoverFlyoutOpen&&this.props.hoverFlyoutOpen&&(this.lastFocusButton=document.activeElement)}focusListItem(e){this.lastFocusButton=document.activeElement;const t=e?this.itemRefs[0]:this.itemRefs[this.itemRefs.length-1];y.a.findDOMNode(t.current).focus()}generateGlyphType(e,t){return t?e+"Light":e+"Dark"}updateTimer(){setTimeout(()=>{this.refreshState&&this.setState(this.props)},1e3)}renderOfferDecoration(e){const{annotation:t,expiryUnixTime:s,timeLeftForExpiry:i}=e;return t?f.a.createElement(f.a.Fragment,null,f.a.createElement("span",null,t)):s?(i>0&&(this.refreshState=!0),f.a.createElement(f.a.Fragment,null,f.a.createElement(b,{offerExpiryText:this.props.shoppingSmartListLocalizationProps.offerExpiryText,timeLeftForExpiry:i}))):void 0}}F.defaultProps={experienceName:"ShoppingSmartList"};var T=s("G82u");class j{}j.closeHoverFlyout=new T.a("CloseHoverFlyout"),j.dataFetchCompleted=new T.a("DataFetchCompleted"),j.dataFetchFailed=new T.a("DataFetchFailed"),j.openHoverFlyout=new T.a("OpenHoverFlyout"),j.updateMouseHover=new T.a("UpdateMouseHover");var I=s("KvMR"),w=s("D57K"),E=s("9J8d"),M=s("tMmC");const k={inspect:e=>{const{connectorArgs:t,config:s,state:i}=e,{localizedStrings:o}=s,{footer:r,hoverFlyoutOpen:n,isMouseOverShoppingTile:a,offers:c,targetSmartListRect:p}=i;return{props:{hoverFlyoutOpen:n,footer:r,offers:t.filterOffers?t.filterOffers(c):c,numberOfFooterItems:s.numberOfFooterItems,numberOfOfferItems:s.numberOfOfferItems,onClosed:t.onClosed,onComponentCreated:t.onComponentCreated,requestOpen:a,requestContext:t.requestContext,shoppingSmartListLocalizationProps:{accessibility:{FooterLink:o.ariaLabel_FooterLink,OfferItem:o.ariaLabel_OfferItem,TrendingDeals:o.ariaLabel_TrendingDeals},offerExpiryText:o.offerExpiryText},shoppingSmartListFooterTelemetryTags:t.shoppingSmartListFooterTelemetryTags,shoppingSmartListOffersTelemetryTags:t.shoppingSmartListOffersTelemetryTags,targetSmartListRect:p},missingChildren:[]}}};var D=s("XzyE"),N=s("Am8i"),R=s("WfnD"),A=s("s9+9"),H=s("Zn5T"),P=s("rvYQ"),q=s("y+Kz"),z=s("ADRF"),B=s("HxRh"),U=s("u5KZ"),$=s("KETb");class K{constructor(e,t,s){this.fetchImpl=e,this.ocid="Peregrine",this.config=s,this.serviceClientSetting=t,this.generateServiceClientSettings()}generateServiceClientSettings(){const e=Object(P.c)(),{apiKey:t,market:s,ocid:i}=q.w;this.serviceClientSetting.queryParams&&(this.queryParamsMap=new Map(Object.entries(this.serviceClientSetting.queryParams)),this.queryParamsMap.set(t,e.OneServiceApiKey),this.queryParamsMap.set("gps",this.config.gps),this.queryParamsMap.set(s,e.CurrentMarket),this.queryParamsMap.set(i,this.ocid),this.queryParamsMap.set("trackingid",e.ActivityId)),this.serviceClientSetting.pathComponents?this.pathComponentsMap=new Map(Object.entries(this.serviceClientSetting.pathComponents)):this.pathComponentsMap=new Map,this.pathComponentsMap.set(s,e.CurrentMarket),this.pathComponentsMap.set("version",x.ApiVersion),this.pathComponentsMap.set("gps",this.config.gps)}getShoppingSmartListData(e){return Object(w.b)(this,void 0,void 0,(function*(){let t=null;return yield this.getShoppingSmartListResponseJson().then(s=>{t=this.TryGetShoppingSmartListData(e,s)}).catch(e=>{U.a.sendAppErrorEvent(Object.assign(Object.assign({},B.pg.ShoppingSmartListServiceFetchError),{message:"Failed to fetch MSN Shopping Smart List response",pb:Object.assign(Object.assign({},B.pg.ShoppingSmartListServiceFetchError.pb),{customMessage:"Failed to fetch MSN Shopping Smart List response: "+e})}))}),t}))}getShoppingSmartListResponseJson(){return Object(w.b)(this,void 0,void 0,(function*(){const e={method:"GET",headers:{accept:"application/json"}};let{serviceBaseUrl:t,servicePath:s}=this.serviceClientSetting;const i=[];if(this.queryParamsMap)for(const e of this.queryParamsMap.entries())i.push({key:e[0],value:e[1]});if(this.pathComponentsMap)for(const e of this.pathComponentsMap.entries())s=s.replace(`{${e[0]}}`,e[1]);const o=new URL(s,t);o.search=z.a.keyValueArrayToQueryString(i),this.serviceClientSetting.additionalUrlAugmentations&&(o.search=o.search.concat(this.serviceClientSetting.additionalUrlAugmentations));return yield Object($.a)(()=>Object(w.b)(this,void 0,void 0,(function*(){const t=yield this.fetchImpl(o.href,e);if(!t.ok)throw Error(t.statusText);return t.json()})),"getShoppingSmartListData")}))}TryGetShoppingSmartListData(e,t){if(!t)return U.a.sendAppErrorEvent(Object.assign(Object.assign({},B.pg.ShoppingSmartListServiceEmptyResponse),{message:"Received empty ShoppingSmartList response."})),null;let{footer:s,offers:i}=t;const o="1"===z.a.getQueryParameterByName("startpage",e)?L.dhp:L.ntp;s||(s=this.config.footer),s.length<this.config.numberOfFooterItems&&(U.a.sendAppErrorEvent(Object.assign(Object.assign({},B.pg.ShoppingSmartListServiceInvalidResponse),{message:"Response does not contain minimum required number of footer items."})),s=this.config.footer);const r=this.getFormCode("footer",o);if(s&&s.forEach(e=>{e&&e.link&&e.link.clickUrl&&r&&(e.link.clickUrl=`${e.link.clickUrl}&FORM=${r}`)}),!i)return U.a.sendAppErrorEvent(Object.assign(Object.assign({},B.pg.ShoppingSmartListServiceMissingRequiredFields),{message:"Missing required fields in ShoppingSmartList response."})),null;i.length<this.config.numberOfOfferItems&&U.a.sendAppErrorEvent(Object.assign(Object.assign({},B.pg.ShoppingSmartListServiceInvalidResponse),{message:"Response does not contain minimum required number of offers items."}));const n=this.getFormCode("offers",o);return i&&(i=i.filter(e=>!!(e.id&&e.clickUrl&&e.merchantName&&e.title)&&(e.clickUrl=n&&`${e.clickUrl}&FORM=${n}`,!0))),{footer:s,offers:i}}getFormCode(e,t){const{formCodes:s}=this.config;return s&&s[e]&&s[e][L[t]]}}var _=s("1I/+");class W{constructor(e,t){this.experienceType=H.a.shoppingSmartList,this.focusShouldMove=e=>(this.connector.boundComponent.focusListItem(e),!0),this.initShouldFire=()=>{const{enableBadgeNotifications:e,primaryServiceClientSettings:t,secondaryServiceClientSettings:s}=this.config,i=window.fetch.bind(window);let o=new K(i,t,this.config);const r=Object(_.b)(this.connector.requestContext.data.locationHref,"locationHref");o.getShoppingSmartListData(r).then(t=>{const n=E.a.getInstance().rootReducer.connector(A.a.SmartListSharedData),a={};null!=t?(j.dataFetchCompleted.getActionSender(this.connector).send(t),e&&n&&(a.children=t.offers.length.toString(),D.a.updateSmartListBadgeProps.getActionSender(n).send(H.a.shoppingSmartList,a))):(M.a.logError("Failed to fetch offers data from primary source"),this.config.secondaryServiceClientSettings?(o=new K(i,s,this.config),o.getShoppingSmartListData(r).then(t=>{null!=t?(j.dataFetchCompleted.getActionSender(this.connector).send(t),e&&n&&(a.children=t.offers.length.toString(),D.a.updateSmartListBadgeProps.getActionSender(n).send(H.a.shoppingSmartList,a))):(M.a.logError("Failed to fetch offers data from secondary source"),j.dataFetchFailed.getActionSender(this.connector).send())})):(M.a.logError("Failed to fetch offers data from primary source. No fallback source available"),j.dataFetchFailed.getActionSender(this.connector).send()))})},this.renderShouldFire=e=>{if(!e)return;const t=e.getBoundingClientRect();t&&t.top&&t.bottom&&t.left&&t.right&&(j.openHoverFlyout.getActionSender(this.connector).send(t),j.updateMouseHover.getActionSender(this.connector).send(!0))},this.unmountShouldFire=()=>{j.updateMouseHover.getActionSender(this.connector).send(!1)},this.connector=e,this.config=t}}class G extends R.a{constructor(e,t,s,i,o,r,n){super(e,t,s,i,o,r,n),this.filterValidOffers=e=>e?((e=e.filter(e=>{const t=Date.now()+1e3*this.config.offerExpiryCutOffInSeconds;return!(e.expiryUnixTime&&e.expiryUnixTime<=t)})).length<this.config.numberOfOfferItems&&M.a.logError("Not enough offers to display"),e):null,this.onComponentCreated=e=>{this.boundComponent=e},this.onFlyoutClosed=e=>{j.closeHoverFlyout.getActionSender(this).send(e)},this.registerWithSmartListConnector()}mapStateToProps(e){const t={config:this.config,state:e,connectorArgs:{filterOffers:this.filterValidOffers,onClosed:this.onFlyoutClosed,onComponentCreated:this.onComponentCreated,shoppingSmartListFooterTelemetryTags:this.footerTelemetryTags,shoppingSmartListOffersTelemetryTags:this.offersTelemetryTags,requestContext:this.requestContext}},s=k.inspect(t).props;return Object.assign(Object.assign({},s),this.telemetryTags)}onComponentConnect(e){return Object(w.b)(this,void 0,void 0,(function*(){yield R.a.prototype.onComponentConnect.call(this,e),this.footerTelemetryTags=[];for(let e=0;e<this.config.numberOfFooterItems;++e)this.footerTelemetryTags.push(this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:`${C.ShoppingSmartListFooterLink}-${e+1}`,behavior:N.b.Navigate}).render():null);this.offersTelemetryTags=[];for(let e=0;e<this.config.numberOfOfferItems;++e)this.offersTelemetryTags.push(this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:`${C.ShoppingSmartListOffers}-${e+1}`,behavior:N.b.Navigate}).render():null)}))}getSmartListSharedConnector(){return E.a.getInstance().rootReducer.connector(A.a.SmartListSharedData)}registerWithSmartListConnector(){const e=this.getSmartListSharedConnector(),t=new W(this,this.config);e&&D.a.registerSmartList.getActionSender(e).send(t)}}var Q=s("05Au");class V{constructor(){this.INITIAL_STATE={forceClosed:!1,hoverFlyoutOpen:!1,isMouseOverShoppingTile:!1}}reduce(e,t){if(!e)return this.INITIAL_STATE;if(!t)return e;let s;return Q.a.handleAction(t,j.closeHoverFlyout,t=>{s=Object.assign(Object.assign({},e),{hoverFlyoutOpen:!1,forceClosed:t})}),Q.a.handleAction(t,j.dataFetchCompleted,t=>{s=Object.assign(Object.assign({},e),{footer:t.footer,offers:t.offers})}),Q.a.handleAction(t,j.dataFetchFailed,()=>{s=Object.assign({},e)}),Q.a.handleAction(t,j.openHoverFlyout,t=>{s=Object.assign(Object.assign({},e),{hoverFlyoutOpen:!0,targetSmartListRect:t})}),Q.a.handleAction(t,j.updateMouseHover,t=>{s=Object.assign(Object.assign({},e),{isMouseOverShoppingTile:t})}),s||e}}class J{}var X=s("SP+O"),Z=s("8yfO"),Y=s("zeXT"),ee=s("XI4f"),te=s("aP31"),se=s("mDtb"),ie=s("3ZGc"),oe=s("AuhI"),re=s("rRWH"),ne=s("0fst");var ae=s("13C5");const ce=Object(i.a)(e=>({shoppingSmartList_root:{"z-index":""+ne.a.Flyout,color:X.c,margin:"0 auto"},clickoutIconDiv:{padding:"7px 6px",height:Object(ie.a)(x.FooterIconSize.height),width:Object(ie.a)(x.FooterIconSize.width)},clickoutLink:Object.assign(Object.assign(Object.assign({},Object(Z.d)("t7")),Object(oe.a)(1,Object(Z.f)("t7"))),{color:X.c,"line-height":"20px"}),clickoutLinkDiv:{padding:"4px",overflow:"hidden",width:Object(ie.a)(x.FooterLinkSize.width)},footerFirstItemDivStyle:{display:"flex",height:"28px",padding:"6px 10px 0px 10px"},footerItemDivStyle:{display:"flex",height:"34px",padding:"0px 10px"},offerItemContainerStyle:{"border-bottom":"1px solid",color:Y.a,display:"flex",padding:"4px"},offerItemBullet:{"border-radius":"4px",height:Object(ie.a)(x.OfferListItemBulletSize.height),width:Object(ie.a)(x.OfferListItemBulletSize.width)},expiredOfferItemBullet:{background:ee.a},validOfferItemBullet:{background:te.c},offerItemBulletDiv:{padding:"15px 6px"},offerItemTitleDiv:{width:"278px","padding-bottom":"2px",overflow:"hidden"},offerItemTitleText:Object.assign(Object.assign(Object.assign(Object.assign({},Object(Z.d)("t7")),Object(se.d)()),Object(oe.a)(1,Object(Z.f)("t7"))),{color:X.c,"line-height":"20px"}),offerItemDetailsDiv:{[Object(re.b)("padding-right","padding-left",e.direction)]:"4px",float:Object(re.b)("left","right",e.direction),"padding-top":"2px",overflow:"hidden","max-width":"118px"},offerMerchantName:Object.assign(Object.assign(Object.assign(Object.assign({},Object(Z.d)("t7")),Object(se.d)()),Object(oe.a)(1,Object(Z.f)("t7"))),{"line-height":"20px"}),offerDecoration:Object.assign(Object.assign(Object.assign({[Object(re.b)("padding-left","padding-right",e.direction)]:"4px"},Object(Z.d)("t8")),Object(oe.a)(1,Object(Z.f)("t8"))),{float:Object(re.b)("right","left",e.direction),"padding-top":"2px","padding-bottom":"1px",overflow:"hidden","max-width":"140px","line-height":"16px"}),validOffer:{padding:"6px",color:te.c},expiredOffer:{padding:"6px",color:ee.a}}))(F),pe={reactComponent:ce,experienceConfigSchema:I.ShoppingSmartListConfigSchema,defaultMockState:o.mockDefaultState,mockState:o.mockState,mockConfig:ae.mockConfig,inspector:k.inspect}},zeXT:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("MF9s"),o=s("6u3Q"),r=s("6QMD");const n=Object(r.d)(e=>{const t=Object(i.W)(e),s=Object(o.a)(e),r=Object(i.v)(e),n=s+(Object(o.e)(e)?-1:1)*r;return Object(o.d)(n,t)})}}]);